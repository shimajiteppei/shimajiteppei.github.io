# 2023-03

## 2023-03-01

miskkey.ioのソースコードがVue3で書かれていて、かなりパフォーマンスがいいのですごかった。

## 2023-03-02

JavaScriptのイベントループで排他制御をするのが意外としんどい。

## 2023-03-03

仕事の案件が2週間後に開発終了となった。案件で得た知見を整理して棚卸しして、普段のツール群の設定を見直してより効率化したい。

## 2023-03-04

ブログをGoogle Search Consoleに登録した。

## 2023-03-05

ブログの日記を編集していたらミスってGitの変更履歴を消してしまった。幸いVSCodeのタイムライン機能で復活できた。

## 2023-03-06

`window.addEventListener(key, callback)`で同一キーにaddしても上書きされるのではなく複数個のcallbackが登録されるというのを知った。そのせいで仕事のJavaScriptのコードでメモリリークを起こしてしまっていた。

## 2023-03-07

ブログで使っているmaterial for mkdocsのプラグイン設定を見直した。どっかのサイトから引っ張ってきたものを使っていたが、高機能すぎて使わなさそうなプラグインが意外と多かったのでいろいろ消した。

## 2023-03-08

仕事で作っていたMarkdownレンダラーにMermaid.jsレンダリング機能を追加した。Mermaidが動的にDOMを変更するので、ちょっと怖さがある。KaTeXは`renderToString`を用意してくれていて優秀だった。

## 2023-03-09

古いPython製ライブラリをビルドするのに苦労した。何もしていないのに動かなくなるのではなく、何もしていないから動かなくなる時代なのだという言説がTwitterで流れていたのを思い出した。

楽天スーパーセールに乗じて、いろいろ衝動買いした。

## 2023-03-10

朝起きたら左腕全体がしびれていた。柔らかいマットレスを買ったのでちょっと様子見する。

GitHub Actionsのワークフローで、プルリク作成時にブランチ名のチェックを行う処理を仕込んでみたものの、何度かプルリクを作っていると前の結果がキャッシュされて原因不明だった。

## 2023-03-11

注文していた骨伝導イヤホンが届いた。耳の穴に開放感があって心地よい。

## 2023-03-12

1ヶ月前なのでネスペ午後の問題を見た。これはやばい。

## 2023-03-13

Javaのrecordクラスを使ってみた。「Immutableオブジェクト+Java」でググるといろいろなブログが検索に引っかかるが信憑性があるのか調べたい。

## 2023-03-14

「Immutableオブジェクト+Java」でググって出た記事たちのことについて考えたが、全く本質的に重要な話ではなかったのでとりあえず全人類Rustをやろうという気持ちになった。

## 2023-03-15

ネスペ午後の参考書を買った。

## 2023-03-16

nginxをHTTPのリバースプロキシとしてでなく、TCPやUDPのリバースプロキシとしても使えることを知った。https://docs.nginx.com/nginx/admin-guide/load-balancer/tcp-udp-load-balancer/

## 2023-03-17

仕事で関わっていたデータ移行案件で移行後のデータとサーバの動きがなんか微妙におかしいということが分かって調査していたのが解決できた。

データの不具合の原因はデータ移行時にバッチ処理の設定が不十分だった。サーバの挙動の不具合はたんにメモリが足りてないだけだった。Javaで空きメモリが不足してOOMされるときに、デフォルトだとJavaアプリケーションのレベルのログにはメモリ関係のエラーログが残らないので調査に時間を食った。

## 2023-03-18

ようやくOptimizing Javaが届いた。ネスペ終わったらじっくり読む。

放置していたドットファイルリポジトリをようやく作った。シンボリックリンクを作る方法もあるが自動化ツールを入れて検証するのが面倒なので、ホームディレクトリ自体をGit管理する形式にした。

VSCodeでホームディレクトリ全体を開くとファイルやシンボリックリンクが多すぎてCPU使用率が100パーセントに張り付いた。検索除外設定をしたら治まった。

## 2023-03-19

ターミナル操作を効率化しようということで[Guake](https://github.com/Guake/guake)と[Zinit](https://github.com/zdharma-continuum/zinit)と[navi](https://github.com/denisidoro/navi)をインストールして、プラグインを何個か入れた。naviのチートシートは地道に増やしていこう。

## 2023-03-20

[zsh-abbr](https://github.com/olets/zsh-abbr)を入れた。エイリアスのような機能だがコマンドが即時展開されるのでhistoryがエイリアスで汚れない利点がある。
`alias alias=abbr`みたいな感じで既存のエイリアスから移行できる。

## 2023-03-21

久しぶりに仏像の前に正座して良かった。運動して和菓子食べてシャワーする流れが最高すぎる。

## 2023-03-22

頭頂部の粉瘤の摘出手術をした。

## 2023-03-23

`/proc/$pid`フォルダの中身を初めて見た。

[XDG Base Directory](https://wiki.archlinux.jp/index.php/XDG_Base_Directory)という概念を知った。これに沿うようにパスを設定すればホームフォルダを綺麗にまとめられそう。

## 2023-03-24

仕事のサーバで複数の人が`sudo su -`しているログがあって本当にやめてほしいと思った。

## 2023-03-25

Chromeでシークレットタブとゲストモードを非表示にする設定ファイルを作った。

## 2023-03-26

naviのチートシートをかなり整理した。よく使うコマンドの知らなかった便利オプションを知れてよかった。

## 2023-03-27

MySQLをSSLオフロード構成のnginxでSSL接続しようとしてみたがコネクションを確立できなかった。

https://dev.mysql.com/doc/dev/mysql-server/latest/page_protocol_connection_phase.html のとおり、MySQLは独自のSSLコネクション確立プロトコルを持つ。
接続確立用の最初のコネクションは暗号化しないため、nginxでtcpコネクションをSSL化してしまうとMySQLクライアントがコネクション確立できなくなってしまうという罠だった。

## 2023-03-28

SSHでローカルフォワードするのを初めてやった。

## 2023-03-29

Mermaid.jsとVueの相性が悪すぎてなんとかうまく扱いたい。mermaidをnpmでインストールしてmermaid.runで描画するのが一番まし。

## 2023-03-30

SQLを勉強するのに、比較的大きなデータセットがあるとよさそうと思ってなんか無いか調べてたら、[RELATIONAL DATASET REPOSITORY](https://relational.fit.cvut.cz/)というサイトがあった。

クラウド上の読み取り専用のデータベースに接続できたりして便利だった。

## 2023-03-31

4月から今までの仕事の開発がいったん打ち切りとなって別の部署に移動するので、ドキュメント類の整理をしていた。

強くてニューゲームを目指したい。
