# 2022-12

## 2022-12-01

Vuetify3のコンポーネントを眺めていたらまだv3化されているものが少なくて残念だった。もともとコンポーネント数もそこまで多くないにも関わらずこんなにv3対応が遅れてるのは、やはりv2時代にまずい実装が多かったということなんだろう。

ということで代替となるUIライブラリを探してみたら[Quasar](https://quasar.dev/)というのがあった。公式ドキュメントがしっかりしているしコンポーネントの数もかなり多いので使ってみたいと思った。

NestJSについてネットサーフィンしていたら、[NestJSの強化書](https://docs.nest-book.jp/)というサイトを見つけた。日本語文献の中では一番しっかりしているし、著者もちゃんとした考えをもっている人のようなのでいいと思った。

## 2022-12-02

[ChatGPT](https://chat.openai.com/)を使ってみた。意味の通らない文章が生成されがちだが、背景技術が謎ですごい。

## 2022-12-03

ウォーキング大会に参加した。いい運動になった。

押入れを漁ってたら、Windowsでエロゲやりたい欲求がでてきて、Surfece Proがブラックフライデーで安売りしてたのを思い出した。しかしセールは終わっていて完全敗北した。

エロゲのためにWindows機を買うのならタブレット程度のカジュアルな使い方をしたい。SurfaceはWindowsタブレットの中ではかなりコスパが良い。来年までVirtualBoxで我慢しよう。

## 2022-12-04

仕事でAWSの費用を抑えようという流れになってきた。その一環としてAWSの資格を勉強してみようと思った。AWS Certified Solutions Architect系の試験がサービス全体にわたる知識を要求されそうなので、これを目指せばよさそうである。AssociateとProfessionalの2段階があるが、過去問を見た感じProfessionalは運用をして肌感覚を身につけないと結構しんどそうであった。Associateはサービスの内容をなんとなく知っていればいけそうで、勉強にもなるしいいと思った。

## 2022-12-05

今日は仕事で[concrete5](https://concrete5-japan.org/)というCMSのサイトを扱った。WordPress案件をやったおかげで拒否反応もなくすんなり構成を把握できたので、案件知識は意外とバカにならんなと思った。

## 2022-12-06

今日は仕事でTypeScriptのenumと戦った。[[TypeScript] enum 文を使わずに最適化可能な似非 Enum を作る](https://www.pg-fl.jp/program/tips/ts_enum.htm)の記事を読んで、もっと良さそうな書き方があることを知った。

## 2022-12-07

500行以上なのか構造体の変数10個以上なのか境界値はわからんが、fatなコードの保守性・変更容易性は総じて低いという経験知をまた感じた。

## 2022-12-08

`debounce`, `throttle`という[lodash](https://lodash.com/)の関数を知った。公式ドキュメントで言及されている[解説記事](https://css-tricks.com/debouncing-throttling-explained-examples/)がわかりやすい。長時間連続した処理を`debounce`,`throttle`でラップした場合、`debounce`は1回しか実行されないのに対し、`throttle`は指定したミリ秒間隔で実行される。

## 2022-12-09

[vite-plugin-pwa](https://github.com/vite-pwa/vite-plugin-pwa)がVue2を基本的にサポートしていないことがわかった。一応[関連issue](https://github.com/vite-pwa/vite-plugin-pwa/issues/81)でVue2でも使えるという情報があり、これを元にしたであろう同様の内容が[公式ドキュメント](https://vite-pwa-org.netlify.app/frameworks/vue.html#vue-2)にも書いてある。しかし試していないので現在のViteのバージョンでも通用するかは不明。

## 2022-12-10

Windows機を買うまではVirtualBoxでWindows10の仮想マシンを立てることにした。外付けSSDにVirtualBoxのイメージファイルを置いたので容量を気にせず使える。Ubuntu標準のファイルマネージャで外付けSSDのフォーマットやパーティション設定変更を行えるのを知って驚いた。

## 2022-12-11

GABAがけっこう自分の脳に効くということに気づいた。とりあえず継続的に摂取してみる。

## 2022-12-12

仕事で[System76](https://system76.com/laptops)のPCを買ってもらえる可能性が出た。[Clevo](https://www.clevo.com.tw/index-en.asp)というベアボーンノートPCメーカーのPCをベースにしているようである。ちなみにiiyamaもClevoベースのようである。以前に持っていたiiyama PCの使用感を考えると、ハードウェアの質はMacほど高くないことが想像できる。

Clevo公式サイトよりも[Laptop with Linux](https://laptopwithlinux.com/linux-laptops/)公式サイトのほうが詳細なスペックを確認できる。

## 2022-12-13

今日は2つの案件でレガシーと格闘して両方に敗北した。最近Twitterで「技術的負債というのをやめて金銭的・人的リソースが適切に投入されなかった結果と言え」という旨のツイートを思い出した。

上流工程の動画を見た。機能設計(システムでどこまで何をやるのかを定義する設計)や詳細設計(アーキテクチャやコードレベルでの設計)を思考に落とし込む手順が説明されていた。システムの仕様は往々にして人間一人の脳のリソースに比べて膨大なので、Excelライクな表編集ソフトがあると管理しやすいのは納得した。

Markdownの表形式は単純に書きづらいし、csv,tsvに比べてプログラム処理にも向いていない。
Excelはローカルで完結できることと表計算以外のこともできてしまうことによって、往々にしてオレオレ神Excelになりがちである。理想としてはローカル編集は許しつつ、Gitのような相互監視システムがほしい。Excelデータをすべてオンラインで管理するのも手だが、ローカル性が失われるので心理的障壁が生まれてしまう。

## 2022-12-14

仕事のデータ移行案件で、昨日移行を実施した際に不具合が見つかった。今日はその不具合の原因調査をしていた。一般的なインシデント対応方法として、不具合が発見された時点のデータを保存して安全な過去データまで戻すのが定石である。しかし自分で実際にそれを行うのは初めてで、完全に頭から抜けてしまっていた。

一番長く携わっている案件ではデータのマイグレーションのハードルが高い設計になっている。そのため今回のようなデータのトラブル時には、データの不具合は残しつつコードを変更して解決している。本当によくない運用方法なのでなんとか直したい。

## 2022-12-15

EC2とバックアップの運用権限をもらった。AWSのアクセスコントロールが基本的にABACなので。結局自分でAWSをつかってみたり、SAAやSAPの資格の勉強をしてみないとわからないと思った。

## 2022-12-16

忘年会で屋形船に乗った。普段堤防の上ばかり走っている隅田川を低みから見物できたのは良かった。

## 2022-12-17

友人と長電話して楽しかった。

## 2022-12-18

友人と登山して楽しかった。

スマートフォンの挙動があやしかったので、データをPCにバックアップしたうえで初期化した。

## 2022-12-19

社内システムデータ移行の仕事、とりあえずMySQLのデータの文字コードが問題というところまではわかった。

[HackTheBox](https://app.hackthebox.com/home)をかじってみた。ブラウザ経由でRDPを使うのがしんどいので、VPNを使ってSSHしたい気持ちになった。

## 2022-12-20

MySQLの文字コードに`utf8mb3`と`utf8mb4`の2種類があることを知った。バージョン5系では`utf8`は`utf8mb3`のエイリアスになっていて、バージョン8系では`utf8mb4`のエイリアスになっている。DB自体に技術的負債がある場合もあるのだなと驚いた。

MySQLのバージョン5.5/5.6/5.7間にはデータ互換性がないことを知った。バージョンを上げる際には基本的に0.1ずつマイナーバージョンアップして、`mysqlupgrade`してデータを変更しなければならない。

WordPress案件で[WPScanのCLIツール](https://wpscan.com/wordpress-security-scanner)を使ってみた。実行するといろいろな脆弱性検査が行われるのだが、そもそも自分が認識していなかったWordPressの機能が多すぎた。WordPressがなぜデフォルトでこんなにも危ない設計になっているのか理解できなかった。

## 2022-12-21

JSPでカスタムタグを作るにはtaglibファイル(拡張子tld)を使い、汎用taglibを集めたライブラリがあることを知った。古のJavaエコシステムの全貌を把握しておくことは、歴史の勉強に結構なるのではとちょっと思った。

## 2022-12-22

仕事で[WPScanのWordPressプラグイン](https://wordpress.org/plugins/wpscan/)を使った。内部から脆弱性検査できて、[All in One Security](https://wordpress.org/plugins/all-in-one-wp-security-and-firewall/)と併用すると、WordPressがデフォルトで持っている脆弱性をかなり抑えられることが分かった。

ネットワーク系の資格をとって地力をつけたいと思い、CISCOの[CCNP](https://www.cisco.com/c/ja_jp/training-events/training-certifications/certifications/professional/ccnp-enterprise.html)に興味が湧いた。過去問をチラ見してみたが、ネットワーク機器の細かい話や、L3以下の細かいプロトコルの知識が全くわからず、大変そうだなと思った。

家で使っている[HUMAX](humax-networks.com/)製Wi-FiルータにSSHでつないでOSの設定などを変更しようと思って調べてみたが、そもそもSSHのポートが開いてなかった。[J:COMが出している仕様書](https://jcom.my.salesforce.com/sfc/p/#280000015ip8/a/0K000000Iwhq/Vl4oSflUXrdLpuJYb.1X3B5GSRtrK5Aq6s40Rl.CWfY)を読んでもブラウザ経由でしか設定を変更できなさそうであった。

SSH over HTTPSで[SSH接続をWebブラウザの純粋なHTTP上で実現する](https://scrapbox.io/nwtgck/SSH%E6%8E%A5%E7%B6%9A%E3%82%92Web%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%81%AE%E7%B4%94%E7%B2%8B%E3%81%AAHTTP%E4%B8%8A%E3%81%A7%E5%AE%9F%E7%8F%BE%E3%81%99%E3%82%8B)のが面白そうだった。WebSocketを使ってSSHを話せるようにするらしい。

Torブラウザのonionプロトコルでブラウジングしてみたかったので、[NordVPN](https://nordvpn.com/)を2年契約してみた。クリスマスセールしてたので安かった。さっそくTorを入れてサーフィンしてみたが、圧倒的に通信速度が遅くてあまり快適ではなかった。VPN自体には別の使い方もあるので、とりあえずNordVPNを使ってみて、大して必要ないのなら返金解約しよう。

## 2022-12-23

会社の人々と映画を見に行った。絵の練習をしたくなったので[電脳コイル ビジュアルコレクション](https://www.fukkan.com/fk/CartSearchDetail?i_no=68322452)を注文した。

## 2022-12-24

個人サイトでも作ろうかなと思ってレンタルサーバとかドメインとか調べていたが、結局大事なのはコンテンツであって、どこに乗せるかはいま考えることではないという結論に至った。仕事柄、手段と目的を履き違えてしまうなーと思った。

クリスマスイブに友人と酒を飲んで楽しかった。サイクリング部は家族みたいなもんやから。

## 2022-12-25

寝まくった。

## 2022-12-26

仕事で[Hydra](https://github.com/vanhauser-thc/thc-hydra)(パスワードリストを使えるブルートフォース攻撃ツール)と、[OWASP ZAP](https://www.zaproxy.org/)(ブラウザ経由でWebサイトの脆弱性検査をするツール)を使った。両方とも触るのは初めてだったので、新鮮な気持ちになった。

NordVPN経由でGitHubにアクセスできないことがわかった。普段の生活でIPアドレスをごまかしたり独自の暗号化通信を使う必要がないので、VPNの価値がわからなくなってきている。

MySQLの移行作業をパイセンに手伝ってもらってSQLクエリをデバッグしたところ、移行時の文字コードは問題なくて、ソースコードの問題であることが分かった。既存のクソコードとDBのクソスキーマが絡み合って発生していたので、作り直したほうが平和的に解決するのではないだろうか。

帰省した。

## 2022-12-27

餅を作っていた。

## 2022-12-28

餅を作っていた。

## 2022-12-29

餅を作っていた。

## 2022-12-30

餅を作っていた。

## 2022-12-31

餅を作っていた。

いとこと弟とで外宮に行った。どんど火に行くのが数年ぶりでエモかった。
