<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	 xmlns:media="http://search.yahoo.com/mrss/" >

<channel>
	<title>Kotlin : A concise multiplatform language developed by JetBrains | The JetBrains Blog</title>
	<atom:link href="https://blog.jetbrains.com/kotlin/feed/" rel="self" type="application/rss+xml" />
	<link>https://blog.jetbrains.com</link>
	<description>Developer Tools for Professionals and Teams</description>
	<lastBuildDate>Mon, 08 Dec 2025 13:34:48 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	

<image>
	<url>https://blog.jetbrains.com/wp-content/uploads/2024/01/cropped-mstile-310x310-1-32x32.png</url>
	<title>Kotlin : A concise multiplatform language developed by JetBrains | The JetBrains Blog</title>
	<link>https://blog.jetbrains.com</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Kubernetes Made Simple: A Guide for JVM Developers</title>
		<link>https://blog.jetbrains.com/kotlin/2025/12/kubernetes-made-simple-a-guide-for-jvm-developers/</link>
		
		<dc:creator><![CDATA[Alina Dolgikh]]></dc:creator>
		<pubDate>Mon, 08 Dec 2025 13:28:13 +0000</pubDate>
		<featuredImage>https://blog.jetbrains.com/wp-content/uploads/2025/12/Blog-Featured-1280x720-1-1.png</featuredImage>		<category><![CDATA[news]]></category>
		<category><![CDATA[backend]]></category>
		<category><![CDATA[guide]]></category>
		<guid isPermaLink="false">https://blog.jetbrains.com/?post_type=kotlin&#038;p=662365</guid>

					<description><![CDATA[This article was written by an external contributor. Kubernetes is a container orchestration system for deploying, scaling, and managing containerized applications. If you build services on the Java virtual machine (JVM), you likely know that most microservices run on Kubernetes. Kubernetes has become the de facto standard for running containerized microservices at scale. However, Kubernetes [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p><em>This article was written by an external contributor.</em></p>


    <div class="about-author ">
        <div class="about-author__box">
            <div class="row">
                                                            <div class="about-author__box-img">
                            <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/12/Michael-Nyamande.webp" alt="" loading="lazy">
                        </div>
                                        <div class="about-author__box-text">
                                                    <h4>Michael Nyamande</h4>
                                                <p>A digital product manager by day, Michael is a tech enthusiast who is always tinkering with different technologies. His interests include web and mobile frameworks, NoCode development, and blockchain development.</p>
<p><a href="https://x.com/mikeyny_zw" target="_blank">Michael on social media</a></p>
                    </div>
                            </div>
        </div>
    </div>



<p><a href="https://kubernetes.io/" target="_blank" rel="noopener">Kubernetes</a> is a container orchestration system for deploying, scaling, and managing containerized applications. If you build services on the Java virtual machine (JVM), you likely know that <a href="https://edgedelta.com/company/blog/kubernetes-adoption-statistics" target="_blank" rel="noopener">most microservices run on Kubernetes</a>. Kubernetes has become the de facto standard for running containerized microservices at scale. However, Kubernetes is famously complex, with many new concepts (Pods, Deployments, Services, etc.) to master, and thus, has a steep learning curve.<br><br>This tutorial helps ease that complexity for JVM developers. It focuses on what you need to ship a <a href="https://kotlinlang.org/" target="_blank" rel="noopener">Kotlin</a> or Java <a href="https://spring.io/projects/spring-boot" target="_blank" rel="noopener">Spring Boot</a> app to a cluster, step-by-step, with simple explanations and runnable examples.</p>



<p>You’ll learn the basics of Kubernetes by deploying a Kotlin Spring Boot application onto a Kubernetes cluster. You’ll also cover what deployment and services are, how to manage configurations using ConfigMaps and Secrets, and what the best practices are for running JVM applications on Kubernetes.</p>



<p><br><strong>Prerequisites<br></strong>Before diving in, make sure you have the following:</p>



<ul>
<li><a href="https://docs.docker.com/get-started/get-docker/" target="_blank" rel="noopener"><strong>Docker</strong></a><strong>:</strong> Install and run this locally. Docker builds a container image of your app.</li>



<li><a href="https://kubernetes.io/" target="_blank" rel="noopener"><strong>Kubernetes</strong></a><strong>:</strong> Install a Kubernetes environment. For this tutorial, you’ll use <a href="https://minikube.sigs.k8s.io/" target="_blank" rel="noopener">Minikube</a>, a local single-node cluster, and the <a href="https://kubernetes.io/docs/reference/kubectl/" target="_blank" rel="noopener">kubectl</a> CLI for interacting with the cluster. You can <a href="https://minikube.sigs.k8s.io/docs/start/?arch=%2Fwindows%2Fx86-64%2Fstable%2F.exe+download" target="_blank" rel="noopener">download Minikube on their official site</a>, and it comes bundled with kubectl.</li>



<li><strong>Docker registry:</strong> Create, for example, a <a href="https://hub.docker.com/" target="_blank" rel="noopener">Docker Hub</a> account to push and pull your image. You can also use Minikube’s local Docker registry.</li>
</ul>


            <div class="newsletter">
                                                            <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/12/kunernetes-sample.jpeg" alt="">
                                                                            <div class="newsletter__post-text">
                                                            <h3>Repository with the companion code for the article</h3>
                                                                                                                    <a href="https://kotl.in/c096xs" class="btn" target="_blank" rel="noopener">Go to GitHub</a>
                                                    </div>
                    </article>
                                    </div>
    


<h2 class="wp-block-heading">Set Up the Sample Kotlin Spring Boot App (Optional)</h2>



<p>While you can use an existing Kotlin Spring Boot application for this tutorial, if you want to follow along with the code used here, you can create a new project with <a href="https://kotl.in/a2ns0j" target="_blank" rel="noopener">Spring Initializr</a>. If you’re using an existing Spring Boot application, you can jump directly to the next section.</p>



<p>Select Kotlin as your language and Java 21 as our runtime. Make sure to add Spring Web, Spring Data JPA, and <a href="https://www.h2database.com/html/main.html" target="_blank" rel="noopener">H2</a> as dependencies. You’ll use Spring Web to create REST endpoints, Spring Data JPA to connect to a PostgreSQL database, and H2 (an in-memory database) to test the database logic locally:</p>



<figure class="wp-block-image size-full"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" fetchpriority="high" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/image-50.png" alt="" class="wp-image-662377"/></figure>



<p>After creating and downloading the project, locate your main application file. If you used Spring Initializr, the file will be named after your application with Application.kt appended— for example, a project named Demo will have a file called DemoApplication.kt. Add the following code to create a <a href="https://www.geeksforgeeks.org/advance-java/spring-rest-controller/" target="_blank" rel="noopener">@RestController</a> that returns Hello World, which will let you verify the deployment is working:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">import org.springframework.boot.autoconfigure.SpringBootApplication
import org.springframework.boot.runApplication
import org.springframework.web.bind.annotation.GetMapping
import org.springframework.web.bind.annotation.RestController

@SpringBootApplication
class DemoApplication

fun main(args: Array&lt;String>) {
    runApplication&lt;DemoApplication>(*args)
}

@RestController
class HelloController {
    @GetMapping("/hello")
    fun hello(): String = "Hello World"
}</pre>



<p>The entire Spring Boot app and REST controller fit in just a few lines, thanks to Kotlin features like type inference and single-expression functions.</p>



<h2 class="wp-block-heading">Containerize a JVM App Using Docker</h2>



<p>To deploy your application to Kubernetes, you need to initially package it into a container image using <a href="https://www.docker.com/" target="_blank" rel="noopener">Docker</a>. Create a <a href="https://docs.docker.com/reference/dockerfile/" target="_blank" rel="noopener">Dockerfile</a> in the project root:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">FROM openjdk:21-jdk-slim

WORKDIR /app

# Copy the JAR file from builder stage
COPY build/libs/*-SNAPSHOT.jar app.jar

# Expose port 8080
EXPOSE 8080

# Run the application
ENTRYPOINT ["java", "-jar", "app.jar"]</pre>



<p>This Dockerfile uses a lightweight Java 21 base image, copies in the built JAR file, and runs it. Kotlin and Java interoperability means the Spring Boot JAR runs just like any Java app in the container.</p>



<p>To build the image, you initially need to create a JAR file with <code>gradle build</code> or <code>mvn clean package</code>, depending on which build manager you’re using. If using Maven, update the Dockerfile to use <code>target/*.jar</code> instead of <code>build/libs/*-SNAPSHOT.jar</code>.<br><br>After that, build the image:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="bash" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">docker build -t kotlin-app:latest .</pre>



<p>Before you can push the image to Docker Hub, you need to execute this command to log in:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="bash" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">docker login</pre>



<p>Note that you may be prompted to enter your Docker Hub credentials to complete the login step.<br></p>



<p>Next, push the image to Docker Hub or another registry so your Kubernetes cluster can access it:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="bash" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">docker tag kotlin-app:latest YOUR_DOCKERHUB_USER/kotlin-app:latest
docker push YOUR_DOCKERHUB_USER/kotlin-app:latest</pre>



<h2 class="wp-block-heading"><strong>Deploy the Application to a Kubernetes Cluster</strong></h2>



<p>To run your application on Kubernetes, you need to tell Kubernetes how to configure and run it. You do this using manifest files, which are typically written in YAML. These files declaratively define the desired state of your application in the cluster. For a basic deployment, you need two key Kubernetes objects: a <a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/" target="_blank" rel="noopener">Deployment</a> manifest and a <a href="https://kubernetes.io/docs/concepts/services-networking/service/" target="_blank" rel="noopener">Service</a> manifest.</p>



<h3 class="wp-block-heading"><strong>Add the Deployment Manifest</strong></h3>



<p>A Deployment manages replicated Pods and handles rolling updates. A Pod is Kubernetes’s smallest unit that runs your container. Deployments ensure your specified number of Pods stay running and update them safely without downtime.</p>



<p>Create a file named k8s/deployment.yaml that defines your Deployment so that Kubernetes can run the application:<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="yaml" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">apiVersion: apps/v1
kind: Deployment
metadata:
  name: kotlin-app-deployment
spec:
  replicas: 1
  selector:
    matchLabels:
      app: kotlin-app
  template:
    metadata:
      labels:
        app: kotlin-app
    spec:
      containers:
      - name: kotlin-k8s-app
        image: &lt;your-username>/kotlin-app:latest
        ports:
        - containerPort: 8080</pre>



<p>The manifest above makes these declarations:</p>



<ul>
<li><strong><code>kind: Deployment</code></strong> specifies the type of object.</li>



<li><strong><code>spec.replicas: 1</code></strong> tells Kubernetes how many instances of the application you want running.</li>



<li><strong><code>spec.selector.matchLabels</code></strong> is how the Deployment knows which Pods to manage. It looks for Pods with the label app: kotlin-app.</li>



<li><strong><code>spec.template</code></strong> is the blueprint for the Pods. It defines the container(s) to run inside the Pod.</li>



<li><strong><code>spec.containers.image</code></strong> specifies the Docker image to pull.</li>



<li><strong><code>spec.containers.ports.containerPort</code></strong> informs Kubernetes that your application inside the container listens on port <code>8080</code>.<br></li>
</ul>



<h3 class="wp-block-heading"><strong>Include the Service Manifest</strong></h3>



<p>While a Deployment ensures your Pods are running, those Pods are ephemeral; each time they restart, they get a new internal IP address. A Service solves this by acting as a stable entry point with a fixed IP and DNS name, automatically routing traffic to the Pods identified by its label selector. This guarantees that even if Pods restart or change IPs, traffic still reaches the intended application.<br></p>



<p>Create a file named <code>service.yaml</code> in the <code>k8s</code> folder:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="yaml" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">apiVersion: v1
kind: Service
metadata:
  name: kotlin-app-service
spec:
  selector:
    app: kotlin-app
  ports:
    - protocol: TCP
      port: 8080
      targetPort: 8080
  type: NodePort</pre>



<p>The manifest defines:</p>



<ul>
<li><strong><code>kind: Service</code></strong> specifies the object type.</li>



<li><strong><code>spec.selector</code></strong> must match the labels of the Pods (app: kotlin-app). This is how the Service knows where to send traffic.</li>



<li><strong><code>spec.ports</code></strong> maps the Service’s port (port: 8080) to the container’s port (targetPort: 8080).</li>



<li><strong><code>spec.type: NodePort</code></strong> exposes the application on a static port on each node in the cluster, making it accessible for local development with Minikube. In a cloud environment, you typically use a <a href="https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer" target="_blank" rel="noopener"><code>LoadBalancer</code></a>.<br></li>
</ul>



<h3 class="wp-block-heading"><strong>Deploy to a Cluster Using Minikube</strong></h3>



<p>To deploy this to a cluster, run Minikube with <code>minikube start</code> and apply the manifests using the following commands:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl apply -f k8s/deployment.yaml
kubectl apply -f k8s/service.yaml</pre>



<p>After applying, you can verify that everything is running using <code>kubectl get pods</code>. You should then get a result like this:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">NAME                                    READY   STATUS    RESTARTS      AGE
kotlin-app-deployment-744476956-bfwg4   1/1     Running   0             20s</pre>



<p>To access your application, run <code>minikube service kotlin-app-service</code>. This command finds the service in Minikube and opens a URL in your host browser via port forwarding. The output shows an IP and port (<em>eg</em> <code>http://192.168.49.2:30000</code>). Visiting <code>http://&lt;minikube-ip&gt;:30000/hello</code> should call your Spring app and return the <code>Hello World</code> message.</p>



<h2 class="wp-block-heading"><strong>Extend the Kotlin App with ConfigMap</strong></h2>



<p>Hard-coding configuration in images forces rebuilds for simple changes and risks exposing sensitive data. Kubernetes provides <a href="https://kubernetes.io/docs/concepts/configuration/configmap/" target="_blank" rel="noopener">ConfigMaps</a> for non-sensitive configuration and <a href="https://kubernetes.io/docs/concepts/configuration/secret/" target="_blank" rel="noopener">Secrets</a> for sensitive data, like passwords.<br><br>To demonstrate ConfigMaps, replace the hard-coded greeting with one that can be set through a configuration.<br><br>To do this, update the controller to read the message from an environment variable:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="enlighter" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">@RestController
class HelloController {
    @Value("\${greeting.message:Hello}")
    lateinit var greetingMsg: String

    @GetMapping("/hello")
    fun hello(): String = greetingMsg
}</pre>



<p>This code snippet declares a variable <code>greetingMsg</code>, which pulls a value from the environment or defaults to <code>"Hello"</code> if it doesn’t find the specific environment variable.<br><br>Now, create a <code>configmap.yaml</code> file in the <code>k8s</code> folder; this sets the greeting configuration so you can change it without rebuilding the image:<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="yaml" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">apiVersion: v1
kind: ConfigMap
metadata:
  name: kotlin-app-config
data:
  application.properties: |
    greeting.message=Hello from a ConfigMap!</pre>



<p>To use this <code>ConfigMap</code>, you need to mount it as a volume into the Pod. This approach prevents configuration values from being accidentally logged in process lists and allows for configuration updates without restarting the Pod.<br><br>Additionally, ConfigMaps can store larger configuration files and support multiple configuration formats.<br><br>Update your <code>k8s/deployment.yaml</code> so that it uses the new ConfigMap that you defined earlier:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="yaml" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">apiVersion: apps/v1
kind: Deployment
metadata:
  name: kotlin-app-deployment
spec:
  replicas: 1
  selector:
    matchLabels:
      app: kotlin-app
  template:
    metadata:
      labels:
        app: kotlin-app
    spec:
      containers:
      - name: kotlin-k8s-app
        image: &lt;your-username>/kotlin-app:v2
        ports:
        - containerPort: 8080
        volumeMounts:
        - name: config-volume
          mountPath: /app/config
      volumes:
      - name: config-volume
        configMap:
          name: kotlin-app-config</pre>



<p>This manifest adds a <code>volumes</code> section that defines a volume named <code>config-volume</code>, which sources its data from the <code>kotlin-app-config</code> ConfigMap. It also adds a <code>volumeMounts</code> entry to the container specification, mounting this volume at <code>/app/config</code>. This setup allows Spring Boot to automatically detect and load the <code>application.properties</code> file from the <code>/config</code> directory, making it easy to manage configuration through Kubernetes.</p>



<p>The deployment also updates the image to an updated Docker image. Let’s create this image by rebuilding the application and creating a new Docker image with an updated tag (<em>eg</em> <code>v2</code>). Then push it to your registry so Kubernetes can pull the latest version:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="bash" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group=""># 1) Rebuild the Kotlin app 
./gradlew clean build            # Gradle
# or
mvn clean package                # Maven

# 2) Build a new Docker image with a new tag (v2)
docker build -t &lt;your-username>/kotlin-app:v2 .

# 3) Push the image so the cluster can pull it (skip if using Minikube's Docker daemon)
docker push &lt;your-username>/kotlin-app:v2</pre>



<p>After pushing the new image, apply the new <code>configmap.yaml</code> and the updated <code>deployment.yaml</code>:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="bash" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl apply -f k8s/configmap.yaml
kubectl apply -f k8s/deployment.yaml</pre>



<h3 class="wp-block-heading"><strong>Connect to a Database</strong></h3>



<p>When your application needs to store and retrieve data, such as user accounts or business records, you need to manage persistent storage alongside your deployments. Kubernetes lets you run databases like PostgreSQL as managed Deployments, using persistent volumes for data durability and Secrets for credentials.</p>



<p>Let’s walk through deploying PostgreSQL and connecting it to your application.</p>



<p>To keep your credentials out of the container and enable safe injection into Pods, you need to define a Secret. A Kubernetes Secret is like a ConfigMap but intended for confidential info (passwords, tokens). Create <code>postgres-secret.yaml</code> to safely store the database credentials:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="yaml" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">apiVersion: v1
kind: Secret
metadata:
  name: postgres-secret
type: Opaque
stringData:
  POSTGRES_USER: "postgres"
  POSTGRES_PASSWORD: "mysecretpassword"
  POSTGRES_DB: "greetingsdb"</pre>



<p><strong>Note:</strong> <code>stringData</code> is used for convenience; Kubernetes stores this as a Base64-encoded value.</p>



<p>Create <code>deployments/postgres.yaml</code> to run PostgreSQL and expose it with a stable DNS name:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="yaml" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">apiVersion: apps/v1
kind: Deployment
metadata:
  name: postgres
  labels:
    app: postgres
spec:
  replicas: 1
  selector:
    matchLabels:
      app: postgres
  template:
    metadata:
      labels:
        app: postgres
    spec:
      containers:
      - name: postgres
        image: postgres:15
        ports:
        - containerPort: 5432
        env:
        - name: POSTGRES_DB
          valueFrom:
            secretKeyRef:
              name: postgres-secret
              key: POSTGRES_DB
        - name: POSTGRES_USER
          valueFrom:
            secretKeyRef:
              name: postgres-secret
              key: POSTGRES_USER
        - name: POSTGRES_PASSWORD
          valueFrom:
            secretKeyRef:
              name: postgres-secret
              key: POSTGRES_PASSWORD
        volumeMounts:
        - name: postgres-storage
          mountPath: /var/lib/postgresql/data
      volumes:
      - name: postgres-storage
        emptyDir: {}
---
apiVersion: v1
kind: Service
metadata:
  name: postgres-service
spec:
  selector:
    app: postgres
  ports:
  - port: 5432
    targetPort: 5432
  type: NodePort</pre>



<p>This manifest does two things:</p>



<ul>
<li>Creates a <code>Service</code> named <code>postgres-service</code> so your application can connect to the database using a stable DNS name.</li>



<li>Creates a <code>Deployment</code> that runs <code>PostgreSQL</code>, using the Secret for the password. It mounts <code>/var/lib/postgresql/data</code> to a volume (here, an <code>emptyDir</code> for simplicity). In production, you’d use a <a href="https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/" target="_blank" rel="noopener"><code>StatefulSet</code></a> and a <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/" target="_blank" rel="noopener"><code>PersistentVolumeClaim</code></a> to ensure data persists across Pod restarts and node failures.<br></li>
</ul>



<p>Let’s also update the Kotlin app to connect to a PostgreSQL database. In this example, the app returns a custom greeting with the user’s details that it pulls from the database. You can use <a href="https://spring.io/projects/spring-data-jpa/" target="_blank" rel="noopener">Spring Data JPA</a>.</p>



<p>To connect to a PostgreSQL database and use JPA, you need to add the PostgreSQL Java Database Connectivity (JDBC) driver. The PostgreSQL driver is essential because it allows your application to communicate with the database running in Kubernetes. Add this to the dependencies block in your <code>build.gradle.kts</code> (or <code>pom.xml</code> if you’re using Maven) so it’s available at compile and runtime:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">implementation("org.postgresql:postgresql")</pre>



<p>For local development, the application uses H2 (which you added earlier as a dependency) as a lightweight option for testing without having to spin up a full PostgreSQL instance. The application interacts only with PostgreSQL when deployed to the Kubernetes cluster.</p>



<p>Create a file and name it <code>User.kt</code>. Use this to model the <code>users</code> table. Additionally, create a Spring Data JPA repository for database lookups:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">import jakarta.persistence.*
import org.springframework.data.jpa.repository.JpaRepository
import org.springframework.stereotype.Repository

@Entity
@Table(name = "users")
class User(
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    val id: Long = 0,

    @Column(nullable = false)
    val name: String = "",

    @Column(nullable = false)
    val email: String = ""
)

@Repository
interface UserRepository : JpaRepository&lt;User, Long> {
    fun findByName(name: String): User?
}</pre>



<p>This snippet uses a Kotlin class to define a <code>User</code> entity. With Kotlin’s primary constructor syntax, you can declare mutable properties and initialize the object in a single definition, eliminating the need for boilerplate getters and setters required in Java entities. The snippet also defines a <code>UserRepository</code> that handles retrieving user details from the database.<br><br>Update the main controller with this <code>GetMapping</code> to return dynamic greetings based on username:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">import org.springframework.web.bind.annotation.PathVariable

@RestController
class HelloController(private val userRepository: UserRepository) {

    @GetMapping("/hello")
    fun hello(): String = "Hello World"

    @GetMapping( "/hello/{name}")
    fun getGreeting( @PathVariable name: String = "world"): String =
        userRepository.findByName(name)
            ?.let { "Hello ${it.name}! Your email is ${it.email}." 
            ?: "Hello $name! (User not found in database)"
}</pre>



<p>This code injects the <code>UserRepository</code> into the <code>Controller</code>, allowing you to use it in the <code>getGreeting</code> method. This method returns the user’s name, along with their email, if the user exists in the database; otherwise, it outputs that the user wasn’t found. It uses Kotlin null safety features to produce a response without unsafe casts or a <code>NullPointerException</code>.</p>



<p>Next, update the <code>src/main/resources/application.properties</code> file with the PostgreSQL configuration:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect</pre>



<p>The properties file configures Spring Data JPA settings. The <code>hibernate.ddl-auto=update</code> property enables automatic schema updates based on the <code>@Entity</code> definitions. This ensures that the <code>User</code> table is created at runtime if it doesn’t exist in the database. The <code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect</code> tells <code>hibernate</code> to use PostgreSQL-specific queries.<br><br>To use the updated code, rebuild the application and Docker image with the changes, and update the Deployment to include the new environment variables as Secrets:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="yaml" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">apiVersion: apps/v1
kind: Deployment
metadata:
  name: kotlin-app-deployment
spec:
  replicas: 1
  selector:
    matchLabels:
      app: kotlin-app
  template:
    metadata:
      labels:
        app: kotlin-app
    spec:
      containers:
      - name: kotlin-k8s-app
        image: &lt;your-username>/kotlin-app:v3
        ports:
        - containerPort: 8080
        env:
        - name: SPRING_DATASOURCE_URL
          value: "jdbc:postgresql://postgres-service:5432/greetingsdb"
        - name: SPRING_DATASOURCE_USERNAME
          valueFrom:
            secretKeyRef:
              name: postgres-secret
              key: POSTGRES_USER
        - name: SPRING_DATASOURCE_PASSWORD
          valueFrom:
            secretKeyRef:
              name: postgres-secret
              key: POSTGRES_PASSWORD</pre>



<p>The configuration now contains a new <code>env</code> section that defines the database URL, username, and password from the Secrets definition. Spring uses these variables to connect to the database.</p>



<p>Apply the new manifests using this command:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="bash" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl apply -f k8s/postgres-secret.yaml
kubectl apply -f k8s/postgres.yaml
kubectl apply -f k8s/deployment.yaml</pre>



<p>You can use <code>minikube service kotlin-app-service</code> to expose the application using an external IP address and navigate to <code>&lt;url&gt;/hello/&lt;username&gt;</code> to test. If the username doesn’t exist in the <code>User</code> table of the PostgreSQL database, you’ll get this output:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="bash" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">Hello &lt;username>! (User not found in database)</pre>



<h3 class="wp-block-heading"><strong>Dynamic routing using Ingress</strong></h3>



<p>Sometimes you might want to roll out new features to a subset of users to test out how they work before a full production release, for example, during beta testing. To do this, you can have route traffic from your Kubernetes cluster to different services depending on certain rules. This is done via an <a href="https://kubernetes.io/docs/concepts/services-networking/ingress/" target="_blank" rel="noopener">Ingress</a>. An Ingress sits at the edge of the cluster and routes HTTP traffic to Services based on rules like host, path, or headers.</p>



<p>In this example, you’ll route normal traffic to v2 of the application and route all traffic with a special header to the new v3 image. This allows you to test a new database feature on a subset of users or clients before a full, stable rollout.</p>



<p>To enable the NGINX Ingress controller in Minikube:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="bash" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">minikube addons enable ingress</pre>



<p>Create a new <code>v2-application</code> file that contains the deployment and Service for the v2 version of the app, save it to <code>k8s/v2-app.yaml</code>:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="yaml" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">apiVersion: apps/v1
kind: Deployment
metadata:
  name: kotlin-app-v2-deployment
spec:
  replicas: 1
  selector:
    matchLabels:
      app: kotlin-app-v2
  template:
    metadata:
      labels:
        app: kotlin-app-v2
    spec:
      containers:
        - name: kotlin-k8s-app-v2
          image: &lt;your-username>/kotlin-app:v2
          ports:
            - containerPort: 8080
          volumeMounts:
            - name: config-volume
              mountPath: /app/config
      volumes:
        - name: config-volume
          configMap:
            name: kotlin-app-config
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: kotlin-app-config
data:
  application.properties: |
    greeting.message=Hello from a v2 stable app!
---
apiVersion: v1
kind: Service
metadata:
  name: kotlin-app-v2-service
spec:
  selector:
    app: kotlin-app-v2
  ports:
    - port: 8080
      targetPort: 8080
  type: ClusterIP</pre>



<p>The example above is similar to the Deployment and Service you set up earlier, except the Service type is now ClusterIP instead of NodePort. ClusterIP only exposes the Service within the cluster, making it accessible to other Pods but not directly from outside the cluster. In contrast, NodePort exposes the Service on a static port on each node’s IP, allowing external access. Since the Ingress handles external traffic routing, you use ClusterIP for internal communication between the Ingress and your Services.<br><br>With Services in place, you can add the Ingress resources. Create a new ingress file to receive traffic and direct it to the v2 version of your service, and save it as <code>k8s/ingress.yaml</code>:<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="yaml" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: kotlin-app
spec:
  ingressClassName: nginx
  rules:
  - http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: kotlin-app-v2-service
            port:
              number: 8080</pre>



<p>To direct traffic to the v3 version of the application, you can utilize the <a href="https://kubernetes.github.io/ingress-nginx/examples/canary/" target="_blank" rel="noopener">canary annotations</a> of the ingress controller. Create another ingress definition file and save it to <code>k8s/ingress-canary.yaml</code>:<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="yaml" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: kotlin-app-canary
  annotations:
    nginx.ingress.kubernetes.io/canary: "true"
    nginx.ingress.kubernetes.io/canary-by-header: "X-Client-Version"
    nginx.ingress.kubernetes.io/canary-by-header-value: "v3"
spec:
  ingressClassName: nginx
  rules:
  - http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: kotlin-app-service
            port:
              number: 8080</pre>



<p>The canary Ingress above uses NGINX’s canary annotations to implement header-based routing. When a request includes the header <code>X-Client-Version: v3</code>, the Ingress controller routes it to the <code>kotlin-app-service</code> (your v3 Pods). All other requests without this header go to <code>kotlin-app-v2-service</code> (your stable v2 Pods). This pattern lets you safely test new features in production with a subset of users, such as internal testers or beta users, while the majority of traffic continues to hit the stable version.<br><br>The <code>canary: "true"</code> annotation tells NGINX this Ingress is a canary rule, and the <code>canary-by-header</code> annotations define the matching logic.<br><br>Apply the new manifests using the following commands:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="bash" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl apply -f k8s/v2-app.yaml
kubectl apply -f k8s/ingress.yaml
kubectl apply -f k8s/ingress-canary.yaml</pre>



<p>To test this out, run <code>minikube tunnel</code> to tunnel your minikube instance and make it available on <code>localhost</code>. To view our application you simply need to navigate to <code>http://localhost/hello</code>.</p>



<p>You can verify the routing behavior with curl. A request without the header goes to v2:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="bash" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">curl  http://127.0.0.1/hello </pre>



<p>This returns <code>“Hello from a v2 stable app!”</code>.</p>



<p>Running the same request with the <code>X-Client-Version</code> header, returns a response from v3 of the application:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="bash" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">$ curl -H "X-Client-Version:v3" http://127.0.0.1/hello
Hello World</pre>



<p>You can also run the same on with <code>/hello/{name}</code> to verify it routes to v3 of the application:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="bash" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">curl -H "X-Client-Version:v3" http://127.0.0.1/hello/mike
Hello mike! (User not found in database)</pre>



<p>You can find the tutorial’s full codebase on this <a href="https://github.com/mikeyny/kotlin-kubernetes" target="_blank" rel="noopener">GitHub repository</a>. Switch between different branches to access different parts of the tutorial.</p>



<h2 class="wp-block-heading"><strong>Follow These Best Practices</strong><strong><br></strong></h2>



<p>When deploying JVM-based microservices on Kubernetes, keep these practices in mind:</p>



<h3 class="wp-block-heading"><strong>Configure Health Checks (Liveness and Readiness Probes)</strong></h3>



<p>Kubernetes needs to know if your application is healthy and ready to serve traffic. Health checks let Kubernetes direct traffic to healthy Pods and restart failing ones. <a href="https://docs.spring.io/spring-boot/how-to/actuator.html" target="_blank" rel="noopener">Spring Boot Actuator</a> provides <code>/actuator/health/liveness</code> and <code>/actuator/health/readiness</code> endpoints. Kubernetes sends HTTP requests to these endpoints, and non-<code>2xx</code> responses trigger container restarts.</p>



<h3 class="wp-block-heading"><strong>Use ConfigMap and Secret Manifests</strong></h3>



<p>Do not hard-code environment-specific or sensitive data into your image. As you learned in this tutorial, it’s best to store non-sensitive configs (like feature flags, greeting messages) in ConfigMaps and more confidential data (passwords, tokens) in Secrets. This makes it easy to change settings without rebuilding containers.</p>



<h3 class="wp-block-heading"><strong>Set CPU/Memory Resource Limits</strong></h3>



<p>Kubernetes allows you to set <code>memory</code> and <code>cpu</code> requests and limits. This prevents your app from consuming unlimited resources and impacting other pods. Without limits, a runaway JVM can crash your entire node or be killed unexpectedly, so proper limits ensure cluster stability and cost control.</p>



<h2 class="wp-block-heading"><strong>Conclusion</strong></h2>



<p>This tutorial showed you how to containerize and deploy a <a href="https://kotlinlang.org/" target="_blank" rel="noopener">Kotlin</a> Spring Boot application on Kubernetes. Along the way, you learned important Kubernetes fundamentals, like Pods, Deployments, Services, ConfigMaps, and Secrets.<br><br>You also saw why Kotlin is a good choice for server-side development, <a href="https://blog.jetbrains.com/kotlin/2025/05/strategic-partnership-with-spring/">especially with Spring</a>, because of Kotlin features, like null safety, data classes, and coroutines. If you use Java, you can <a href="https://kotl.in/ulk154" target="_blank" rel="noreferrer noopener">introduce Kotlin gradually into existing Spring projects</a> without rewriting your stack. Explore more on Kotlin for server-side development on their <a href="https://kotlinlang.org/server-side/?utm_campaign=server-side&amp;utm_source=kotlin&amp;utm_medium=guide&amp;utm_term=conversion-from-kubernetes-made-simple-guide" target="_blank" rel="noopener">official landing page</a>.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Advent of Code 2025: A Kotlin Playground</title>
		<link>https://blog.jetbrains.com/kotlin/2025/11/advent-of-code-in-kotlin-2025/</link>
		
		<dc:creator><![CDATA[Ksenia Shneyveys]]></dc:creator>
		<pubDate>Fri, 28 Nov 2025 15:18:12 +0000</pubDate>
		<featuredImage>https://blog.jetbrains.com/wp-content/uploads/2025/11/Featured_1280x720-2x-3.png</featuredImage>		<category><![CDATA[news]]></category>
		<category><![CDATA[advent-of-code]]></category>
		<category><![CDATA[aoc]]></category>
		<category><![CDATA[prizes]]></category>
		<guid isPermaLink="false">https://blog.jetbrains.com/?post_type=kotlin&#038;p=662116</guid>

					<description><![CDATA[Join us live for five days of Advent of Code puzzles and five Kotlin livestreams on December 1–5. Solve the puzzles in Kotlin with help from Kotlin team experts and fun community guests, climb the leaderboard, learn new tricks, and have a chance to win some prizes along the way! Here’s what we have planned [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>Join us live for five days of Advent of Code puzzles and five Kotlin livestreams on December 1–5. Solve the puzzles in Kotlin with help from Kotlin team experts and fun community guests, climb the leaderboard, learn new tricks, and have a chance to win some prizes along the way!</p>



<figure class="wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio"><div class="wp-block-embed__wrapper">
<iframe title="Advent of Code 2025 in Kotlin. Day 1." src="https://www.youtube.com/embed/qJIqcGXuuQs?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</div></figure>



<p>Here’s what we have planned for 2025:</p>



<ul>
<li>From December 1–5, join daily livestreams with Sebastian Aigner, Kotlin Developer Advocate, and special guests as they explore solutions and share Kotlin tips.</li>



<li>Hang out with the supportive Kotlin community in <a href="https://slack-chats.kotlinlang.org/c/advent-of-code" target="_blank" rel="noopener">Kotlinlang Slack</a>, where people post hints, discuss approaches, and learn from one another.</li>



<li>Take part in our Kotlin leaderboards for a chance to win exclusive prizes – both for top performers and for active community members who share their Kotlin solutions.</li>
</ul>



<p>Join us for this JetBrains festive tradition and try solving our Kotlin puzzles this year!</p>



<p>If you enjoy a bit of friendly competition, you can participate in our Kotlin leaderboards on adventofcode.com.</p>



<p>We’ll have exclusive prizes for top performers and extra rewards for randomly selected participants who share their solutions on GitHub using the <code><strong>aoc-2025-in-kotlin</strong></code> topic.</p>



<p>Go to the <em>Leaderboard </em>section of your Advent of Code profile and enter one of the invite codes below:</p>



<ul>
<li>Leaderboard 1: 2343137-c975ff11</li>



<li>Leaderboard 2: 2553918-98f6b5ed</li>



<li>Leaderboard 3: 2076885-6961eed5</li>
</ul>



<p>Some handy resources to get you started:</p>



<ul>
<li>The Kotlin Advent of Code <a href="https://github.com/kotlin-hands-on/advent-of-code-kotlin-template" target="_blank" rel="noreferrer noopener">GitHub template</a> and <a href="https://blog.jetbrains.com/kotlin/2024/11/advent-of-code-2024-in-kotlin/" target="_blank" rel="noreferrer noopener">instructions</a> on how to use it.</li>



<li><a href="https://kotlinlang.org/docs/advent-of-code.html" target="_blank" rel="noreferrer noopener">Solutions</a> from previous years in idiomatic Kotlin.</li>
</ul>



<p>Want to be in the running for exclusive Advent of Code in Kotlin prizes? Here’s what you need to do:</p>



<ol>
<li>Solve at least three Advent of Code 2025 puzzles using Kotlin.</li>



<li>Publish your solutions on GitHub in a repository and add the topic <strong><code>aoc-2025-in-kotlin</code></strong> by:</li>
</ol>



<ul>
<li>Opening your repository on GitHub.</li>



<li>Clicking the gear icon (⚙️) in the top right-hand corner of the repository page.</li>



<li>Adding <strong><code>aoc-2025-in-kotlin</code></strong> in the <em>Topics </em>field.</li>
</ul>



<ol start="3">
<li>Make sure we can contact you via your GitHub profile by including an email address, X handle, or Bluesky username.</li>
</ol>



<p>This helps us discover your solutions and include you in the prize draw!</p>



<p align="center"><a class="ek-link jb-download-button" title="Join us for Advent of Code!" href="https://www.youtube.com/watch?v=qJIqcGXuuQs&#038;list=PLlFc5cFwUnmx9-VIcfxqhjHrwD3Lab4o4" target="_blank" rel="noopener">Join us for Advent of Code!</a></p>



<p>We’re excited to spend another Advent season solving puzzles, exploring Kotlin, and celebrating clever solutions together.</p>



<p>Happy coding, and see you at Advent of Code in Kotlin!</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Kodee’s Kotlin Roundup: Too Much News to Keep Quiet About</title>
		<link>https://blog.jetbrains.com/kotlin/2025/11/kodees-kotlin-roundup-november-edition/</link>
		
		<dc:creator><![CDATA[Kodee]]></dc:creator>
		<pubDate>Wed, 26 Nov 2025 11:34:28 +0000</pubDate>
		<featuredImage>https://blog.jetbrains.com/wp-content/uploads/2025/11/KT-social-BlogFeatured-1280x720-1.png</featuredImage>		<category><![CDATA[news]]></category>
		<guid isPermaLink="false">https://blog.jetbrains.com/?post_type=kotlin&#038;p=661483</guid>

					<description><![CDATA[I’ve gathered the latest Kotlin highlights for you – from the Kotlin Reddit AMA and documentation updates to learning programs and Google Summer of Code 2025 projects. Whether you’re here to stay up to date or just looking for something interesting to explore, there’s plenty to dive into. Where You Can Learn More YouTube Highlights]]></description>
										<content:encoded><![CDATA[
<p>I’ve gathered the latest Kotlin highlights for you – from the Kotlin Reddit AMA and documentation updates to learning programs and Google Summer of Code 2025 projects. Whether you’re here to stay up to date or just looking for something interesting to explore, there’s plenty to dive into.</p>


            <div class="newsletter">
                            <h2>Kodee-Approved Spotlight</h2>
                                                            <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/Kotlin-2.3.0-RC.jpeg" alt="Kotlin 2.3.0 RC">
                                                                            <div class="newsletter__post-text">
                                                            <h3>Kotlin 2.3.0-RC is out!</h3>
                                                        <p>Kotlin 2.3.0-RC has landed! Learn about the new features, explore the improvements, and get ready for the upcoming stable release.</p>
                                                            <a href="https://kotlinlang.org/docs/whatsnew-eap.html" class="btn" target="_blank" rel="noopener">See what’s new</a>
                                                    </div>
                    </article>
                                    <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/Kotlin-Docs.png" alt="Kotlin documentation update">
                                                                            <div class="newsletter__post-text">
                                                            <h3>A fresh look for Kotlin docs</h3>
                                                        <p>Kotlin Multiplatform docs have officially moved to <a href="https://kotlinlang.org/" target="_blank" rel="noopener">kotlinlang.org</a> and now come with a toggle to switch between Language and Multiplatform docs. Navigation is smoother, the structure is cleaner, and it’s easier than ever to find what you need. Let’s just say I’ve been hanging out there a lot lately.</p>
                                                            <a href="https://kotlinlang.org/docs/home.html" class="btn" target="_blank" rel="noopener">Check out the new setup</a>
                                                    </div>
                    </article>
                                    <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/Kotlin-Reddit-AMA.png" alt="Kotlin Reddit AMA">
                                                                            <div class="newsletter__post-text">
                                                            <h3>Join the Kotlin team for an AMA on Reddit</h3>
                                                        <p>Got a burning Kotlin question you’ve always wanted to ask? Now’s your chance! 🔥 The Kotlin team is joining a week-long JetBrains Reddit AMA, where you can ask anything – from language design and tooling to what’s coming next. It’s your opportunity to chat directly with the people building Kotlin. I might even drop in!</p>
                                                            <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&#038;text=Kotlin+Ecosystem+Reddit+AMA&#038;dates=20251211T140000Z/20251211T180000Z&#038;details=Ask+me+anything+on+Reddit+r%2FKotlin%0Ahttps%3A%2F%2Fwww.reddit.com%2Fr%2FKotlin%2F&#038;location=https%3A%2F%2Fwww.reddit.com%2Fr%2FKotlin%2F" class="btn" target="_blank" rel="noopener">Save the date</a>
                                                    </div>
                    </article>
                                    <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/KMP-Edu.png" alt="Kotlin Multiplatform: Level Up Your Skills">
                                                                            <div class="newsletter__post-text">
                                                            <h3>Kotlin Multiplatform: Level up before 2026!</h3>
                                                        <p>Ready to boost your Kotlin Multiplatform skills? Join a four-week learning journey that began on November 10 and ends on December 8. It’s packed with curated resources, a free Compose Multiplatform crash course, top KotlinConf talks, and a career-focused webinar to wrap things up. I couldn’t resist and have already jumped in!</p>
                                                            <a href="http://lp.jetbrains.com/kmp-level-up/?utm_source=ktlnewsletter&#038;utm_medium=button&#038;utm_campaign=kmp-edu" class="btn" target="_blank" rel="noopener">Discover more</a>
                                                    </div>
                    </article>
                                    <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/banner_final.png" alt="How Android devs can advance their career with KMP – livestream">
                                                                            <div class="newsletter__post-text">
                                                            <h3>How Android devs can advance their career with KMP – livestream (December 3)</h3>
                                                        <p>You already know your way around Android, but what’s next? This practical livestream will show you how to advance your Kotlin skills beyond mobile and grow into a full-stack Kotlin Multiplatform pro. Learn what concepts to master, what hiring managers are looking for, and how to start your first standout KMP project. I’ve already registered!</p>
                                                            <a href="https://info.jetbrains.com/kotlin-livestream-december3-2025.html?utm_source=ktlnewsletter&#038;utm_medium=button&#038;utm_campaign=kmp-live" class="btn" target="_blank" rel="noopener">Save your spot</a>
                                                    </div>
                    </article>
                                    <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/Black-Friday.png" alt="KotlinConf'26 Black Friday">
                                                                            <div class="newsletter__post-text">
                                                            <h3>KotlinConf’26 Black Friday special</h3>
                                                        <p>It’s Black Friday! Get 20% off your KotlinConf 2026 ticket! Join me and over 2,000 Kotlin enthusiasts for three days of learning, inspiration, and connection in Munich. Don’t miss out on this limited offer.</p>
                                                            <a href="https://kotlinconf.com/?utm_source=newsletter&#038;utm_medium=email&#038;utm_campaign=roundup-blackfriday" class="btn" target="_blank" rel="noopener">Claim your discount</a>
                                                    </div>
                    </article>
                                    <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/CfP.png" alt="KotlinConf 2026 Call for Papers">
                                                                            <div class="newsletter__post-text">
                                                            <h3>The KotlinConf’26 Call for Speakers is closing soon</h3>
                                                        <p>If you’ve been meaning to send in your KotlinConf 2026 talk proposal, this is your sign to do it now! The Call for Speakers is wrapping up soon. Don’t miss your chance to share your expertise at the world’s largest Kotlin event.</p>
                                                            <a href="https://sessionize.com/kotlinconf-2026/" class="btn" target="_blank" rel="noopener">Submit your talk</a>
                                                    </div>
                    </article>
                                    <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/Blog-Featured-1280x720-2.png" alt="Kotlin adoption guide">
                                                                            <div class="newsletter__post-text">
                                                            <h3>Kotlin adoption guide</h3>
                                                        <p>Our Ultimate Guide to Successfully Adopting Kotlin in a Java-Dominated Environment is expanding rapidly! In this guest series by Urs Peter, Senior Software Engineer and JetBrains-certified Kotlin Trainer, you’ll follow how real teams adopt Kotlin – from a single developer’s spark of curiosity to full-scale transformation. Five posts are already live, with more coming soon!</p>
                                                            <a href="https://blog.jetbrains.com/kotlin/2025/11/helping-decision-makers-say-yes-to-kotlin/" class="btn" target="_blank">Start reading</a>
                                                    </div>
                    </article>
                                    <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/Ktor-survey.jpeg" alt="Ktor Annual Survey">
                                                                            <div class="newsletter__post-text">
                                                            <h3>Your Ktor experience counts – tell us about it</h3>
                                                        <p>Calling all Ktor users! We’d love your input. Take our annual survey and share your thoughts, challenges, and ideas to help make Ktor even better. Your feedback helps shape the framework&#8217;s direction – pretty cool, right? I’ve already shared mine!</p>
                                                            <a href="https://surveys.jetbrains.com/s3/2de1a8c86948" class="btn" target="_blank" rel="noopener">Have your say</a>
                                                    </div>
                    </article>
                                    <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/EXP-Twitter_Facebook_LinkedIn-1200x675-1.png" alt="Exposed 1.0.0-rc-3">
                                                                            <div class="newsletter__post-text">
                                                            <h3>Getting closer to Exposed 1.0.0!</h3>
                                                        <p>We’re almost there! In 1.0.0-rc-3, the team focused on polishing things up – fixing bugs, refining R2DBC support, cleaning up imports, and streamlining transaction management. It’s shaping up nicely, so give it a try and share your feedback before the final release!</p>
                                                            <a href="https://github.com/JetBrains/Exposed/releases/tag/1.0.0-rc-3" class="btn" target="_blank" rel="noopener">Try the latest version</a>
                                                    </div>
                    </article>
                                    <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/02/Blog-Featured-1280x720-2.png" alt="Google Summer of Code GSoC with Kotlin">
                                                                            <div class="newsletter__post-text">
                                                            <h3>Google Summer of Code 2025: What our contributors built</h3>
                                                        <p>Congrats to all our GSoC 2025 contributors and mentors! From making Gradle builds faster and more reliable to bringing a Firebase AI Logic SDK for Kotlin Multiplatform, this year’s projects are already strengthening the ecosystem. I want to personally thank everyone who contributed – your work makes Kotlin better every year.</p>
                                                            <a href="https://blog.jetbrains.com/kotlin/2025/11/google-summer-of-code-2025/" class="btn" target="_blank">See the projects</a>
                                                    </div>
                    </article>
                                    <article class="newsletter__post">
                                                                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="newsletter__post-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/CMP-Twitter_Facebook_LinkedIn-1200x675-1.png" alt="Compose Multiplatform for Web (Quick poll)">
                                                                            <div class="newsletter__post-text">
                                                            <h3>Quick poll for Android devs</h3>
                                                        <p><a href="https://kotl.in/cmp-web-n" target="_blank" rel="noopener">Compose Multiplatform for web</a> (Beta) lets you run your Compose UI right in the browser — powered by Wasm. Pretty cool, right? We’d love to know what you’d build first, so take our quick poll and tell us which use case excites you most.</p>
                                                            <a href="https://www.youtube.com/post/UgkxyOw4S-J99X3LIkRd-QoEvSa4gLjK-4iv" class="btn" target="_blank" rel="noopener">Take the poll</a>
                                                    </div>
                    </article>
                                    </div>
    


<h2 class="wp-block-heading">Where You Can Learn More</h2>



<ul>
<li><a href="https://blog.jetbrains.com/kotlin/2025/11/the-ultimate-kmp-watchlist/" target="_blank" rel="noreferrer noopener">The Ultimate KMP Watchlist: Level Up Your Skills in 10 Talks</a></li>



<li><a href="https://blog.jetbrains.com/amper/2025/11/amper-update-november-2025/" target="_blank" data-type="link" data-id="https://blog.jetbrains.com/amper/2025/11/amper-update-november-2025/" rel="noreferrer noopener">Amper Update, November 2025 – Extensibility Preview</a></li>



<li><a href="https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-7.0-Release-Notes" target="_blank" rel="noreferrer noopener">The Spring Framework 7.0 release notes with exciting updates for Kotlin users</a></li>



<li><a href="https://t.co/lKd9kth53G" target="_blank" rel="noreferrer noopener">The Kotlin Power-assert plugin is now available for Maven</a></li>



<li><a href="https://blog.jetbrains.com/ai/2025/11/building-ai-agents-in-kotlin-part-1-a-minimal-coding-agent/" target="_blank" rel="noreferrer noopener">Building AI Agents in Kotlin – Part 1: A Minimal Coding Agent&nbsp;</a></li>



<li><a href="https://blog.jetbrains.com/research/2025/10/litmuskt-concurrency-testing/" target="_blank" rel="noreferrer noopener">Finding Order in the Mayhem: A Novel Concurrency Testing Tool That Improved the Kotlin Compiler</a></li>
</ul>



<h2 class="wp-block-heading">YouTube Highlights</h2>



<ul>
<li><a href="https://youtu.be/oaJpj18OqY0?si=iEjQ39KuqNe0o00S" target="_blank" rel="noreferrer noopener">From Java to Kotlin: Mercedes-Benz.io’s Journey</a></li>



<li><a href="https://youtu.be/hf_iN-eoC3w?si=7bJ1a9CNPwiDFYCg" target="_blank" rel="noreferrer noopener">Building AI Agents With Koog | Talking Kotlin 142</a></li>
</ul>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Building AI Agents in Kotlin – Part 2: A Deeper Dive Into Tools </title>
		<link>https://blog.jetbrains.com/ai/2025/11/building-ai-agents-in-kotlin-part-2-a-deeper-dive-into-tools/</link>
		
		<dc:creator><![CDATA[Bruno Lannoo]]></dc:creator>
		<pubDate>Wed, 26 Nov 2025 08:23:35 +0000</pubDate>
		<featuredImage>https://blog.jetbrains.com/wp-content/uploads/2025/11/KG-social-BlogFeatured-1280x720-1-1.png</featuredImage>		<product ><![CDATA[kotlin]]></product>
		<category><![CDATA[kotlin]]></category>
		<category><![CDATA[tutorials]]></category>
		<category><![CDATA[ai]]></category>
		<category><![CDATA[ai-agents]]></category>
		<guid isPermaLink="false">https://blog.jetbrains.com/?post_type=ai&#038;p=659982</guid>

					<description><![CDATA[In the previous article, we saw how to build a basic coding agent with list, read, write, and edit capabilities. Today, we&#8217;ll dive into how to extend the agents’ capabilities by creating additional tools within the Koog framework. As an example, we’ll be building an ExecuteShellCommandTool, teaching our agent to run code and close the [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>In the <a href="https://blog.jetbrains.com/ai/2025/11/building-ai-agents-in-kotlin-part-1-a-minimal-coding-agent/">previous article</a>, we saw how to build a basic coding agent with list, read, write, and edit capabilities. Today, we&#8217;ll dive into how to <a href="https://github.com/JetBrains/koog/tree/develop/examples/code-agent/step-02-add-execution-tool" target="_blank" rel="noopener">extend the agents’ capabilities</a> by creating additional tools within the <a href="https://www.jetbrains.com/koog/" target="_blank" rel="noopener">Koog</a> framework. As an example, we’ll be building an <code>ExecuteShellCommandTool</code>, teaching our agent to run code and close the feedback loop that real engineering depends on: running the code, observing failures, and improving the code based on real output.</p>



<p>While LLMs tend to be good at avoiding syntax errors, they do struggle with integration issues. For example, they have a tendency to call nonexistent methods, miss imports, and only partially implement interfaces. The traditional approach of compiling and running the code immediately exposes these problems. But with a little additional prompting, we can push the LLM to run small tests to validate these kinds of behavior.</p>



<p>So, how do we build such a tool? Let&#8217;s start with the fundamentals.</p>



<h2 class="wp-block-heading">What is the anatomy of a Koog tool?</h2>



<p>First, we start by inheriting from the abstract <code>ai.koog.agents.core.tools.Tool</code> <a href="https://docs.koog.ai/class-based-tools/" target="_blank" rel="noopener">class</a>, which tells us that we need to provide:</p>



<ol>
<li><strong>Name</strong>: In our team, we like to follow the convention of <code>snake_casing</code>, surrounding the name with two underscores, though that’s just a matter of individual preference.</li>



<li><strong>Description</strong>: This field serves as the main documentation for the LLM, explaining what the tool does and why it should be called.</li>



<li><code>Args</code><strong> class:</strong> This class describes the parameters that the LLM needs to or can provide when calling the tool.</li>



<li><code>Result</code><strong> class</strong>: This class defines the data that will be formatted into a message for the LLM. It can contain a <code>textForLLM()</code> function that formats the data into a string for the LLM to read. The <code>Result</code> class exists mainly for developer convenience so it is easier to log or render the tool result in a UI. The agent itself only requires the formatted string.</li>



<li><code>Execute()</code><strong> method</strong>: This method takes an instance of Args and returns an instance of <code>Result</code>. It defines the logic of what happens when the LLM calls the tool.</li>
</ol>



<p>These components form the foundation of every Koog tool, whether you&#8217;re building a database connector, an API client, or, as we&#8217;ll see today, a shell command executor. Let&#8217;s walk through building an <code>ExecuteShellCommandTool</code> to see these principles in action.</p>



<h3 class="wp-block-heading"><strong>A quick aside on safety</strong></h3>



<p>Before we dive into the specifics of the <code>ExecuteShellCommandTool</code>, we need to address a few key safety considerations.</p>



<p>While LLMs are not bad actors intentionally trying to cause us problems, they do occasionally make unexpected mistakes that can lead to issues down the line. And if we&#8217;re going to give them the power of command-line execution, their mistakes could have serious consequences.</p>



<p>There are several methods of mitigating this risk, however, including sandboxing command execution in isolated environments and/or limiting the permissions you grant them. However, these can be quite complicated to implement, and our focus now is on creating actual tools.</p>



<p>With this in mind, we&#8217;ll provide the two simplest risk mitigation strategies:</p>



<ol>
<li><strong>Command execution confirmation</strong> for every command. This is the safest option as long as we take a minute to review every command the LLM wants to execute, but it does seriously limit the agent&#8217;s autonomy.</li>



<li><strong><em>Brave</em></strong><strong> mode</strong>, in which every command is approved automatically. While this mode can pose a risk to the machine you’re working on if it is not properly sandboxed, we&#8217;ll only be using it inside our own benchmarks, which run in isolated environments that can be destroyed without consequence.</li>
</ol>



<h2 class="wp-block-heading">Implementing an <strong><code>ExecuteShellCommandTool</code></strong></h2>


    <div class="slider slider-full">
                                        <div class="slider__slide">
                    <a href="https://blog.jetbrains.com/wp-content/uploads/2025/11/DSGN-24422-01_Exec-tool.png">
                        <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/DSGN-24422-01_Exec-tool.png" alt="">
                    </a>
                </div>
                                                    <div class="slider__slide">
                    <a href="https://blog.jetbrains.com/wp-content/uploads/2025/11/DSGN-24422-02_Data-flow.png">
                        <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/DSGN-24422-02_Data-flow.png" alt="">
                    </a>
                </div>
                                                    <div class="slider__slide">
                    <a href="https://blog.jetbrains.com/wp-content/uploads/2025/11/DSGN-24422-03_Confirmation-handler.png">
                        <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/DSGN-24422-03_Confirmation-handler.png" alt="">
                    </a>
                </div>
                                                    <div class="slider__slide">
                    <a href="https://blog.jetbrains.com/wp-content/uploads/2025/11/DSGN-24422-04_Executor.png">
                        <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/DSGN-24422-04_Executor.png" alt="">
                    </a>
                </div>
                                                </div>






<p><a href="https://github.com/JetBrains/koog/blob/develop/agents/agents-ext/src/commonMain/kotlin/ai/koog/agents/ext/tool/shell/ExecuteShellCommandTool.kt" target="_blank" rel="noopener">For our <code>ExecuteShellCommandTool</code></a>, these components are as follows:</p>



<ol>
<li><strong>Name</strong>: <code>__execute_shell_command__</code>.</li>



<li><strong>Description</strong>: Something like &#8220;Executes shell commands and returns their output&#8221;.</li>



<li><code>Args</code> <strong>class</strong>: <code>command</code>, <code>timeoutSeconds</code>, <code>workingDirectory</code></li>



<li><code>Result</code> <strong>class</strong>: <code>output</code>, <code>exitCode</code>, <code>command</code> (might seem surprising, but is convenient to report in logs or UI what command was run).</li>



<li><code>Execute()</code><strong> method</strong>: Request confirmation, then execute the command (we&#8217;ll look closely at the implementation details below).</li>
</ol>



<h2 class="wp-block-heading"><code>Execute()</code><strong> method implementation</strong></h2>



<p>Now, let&#8217;s look at how we implement our execute() method. We keep the method simple by delegating core logic to helper methods as follows:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">override suspend fun execute(args: Args): Result = when (
        val confirmation = confirmationHandler.requestConfirmation(args)
    ) {
        is ShellCommandConfirmation.Approved -> try {
            val result = executor.execute(
                args.command, args.workingDirectory, args.timeoutSeconds
            )
            Result(args.command, result.exitCode, result.output)
        } catch (e: CancellationException) {
            throw e
        } catch (e: Exception) {
            Result(
               args.command, null, "Failed to execute command: ${e.message}"
            )
        }

        is ShellCommandConfirmation.Denied ->
            Result(
                args.command, null, 
                "Command execution denied with user response: ${confirmation.userResponse}"
            )
    }</pre>



<p>The flow is straightforward: Request user confirmation for running the command, execute if this is approved via the command executor, or return the denial message to the LLM.</p>



<p>This also allows us to catch exceptions and forward error messages to the LLM, enabling it to adjust its approach or try alternatives.</p>



<h3 class="wp-block-heading"><br><code>ConfirmationHandler</code> configuration<br></h3>



<p><code>ConfirmationHandler</code> becomes configurable when you create the <code>ExecuteShellCommandTool</code>, allowing for various implementations. Currently, we offer <a href="https://github.com/JetBrains/koog/blob/develop/agents/agents-ext/src/commonMain/kotlin/ai/koog/agents/ext/tool/shell/ShellCommandConfirmationHandlers.kt" target="_blank" rel="noopener">two</a>:</p>



<ol>
<li><code>PrintShellCommandConfirmationHandler</code>: Prompts the user via the command line.</li>



<li><code>BraveModeConfirmationHandler</code>: Automatically approves everything.</li>
</ol>



<p>The second implementation just approves without any conditions, but the first has some interesting nuances:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">override suspend fun requestConfirmation(
        args: ExecuteShellCommandTool.Args
    ): ShellCommandConfirmation {
        println("Agent wants to execute: ${args.command}")
        args.workingDirectory?.let { println("In: $it") }
        println("Timeout: ${args.timeoutSeconds}s")
        print("Confirm (y / n / reason-for-denying): ")

        val userResponse = readln().lowercase()
        return when (userResponse) {
            "y", "yes" -> ShellCommandConfirmation.Approved
            else -> ShellCommandConfirmation.Denied(userResponse)
        }
    }</pre>



<p>Note that while users perceive three options (approve, deny, deny with reason), the implementation treats both denial types identically: Both return to the LLM, which interprets and handles each type appropriately.</p>



<figure class="wp-block-image size-full"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/demo-exec-print-confirmation.gif" alt="" class="wp-image-660074"/></figure>



<h3 class="wp-block-heading"><br><code>CommandExecutor</code> configuration</h3>



<p>Like the <code>ConfirmationHandler</code>, the <code>CommandExecutor</code> is also configurable, though we currently only provide a JVM implementation. Theoretically, you could create implementations for Android, iOS, WebAssembly, and other platforms, but without clear demand, we&#8217;ll defer these for now.</p>



<h2 class="wp-block-heading">How do we handle timeouts?</h2>



<p>Regardless of the platform used, one aspect of the <code>CommandExecutor</code> – timeout handling – deserves special attention. Our current implementation doesn&#8217;t allow the agent to interrupt long-running commands.</p>



<p>Humans often act from an impatience heuristic, which can lead to them using <em>Ctrl+C </em>to cancel an execution. But this behavior assumes multi-threaded, agentic awareness and an underlying concept of impatience. However, there is a simpler and more intuitive alternative that fits this context much better.</p>



<p>By requiring the LLM to specify a maximum execution time, we can <a href="https://github.com/JetBrains/koog/blob/develop/agents/agents-ext/src/jvmMain/kotlin/ai/koog/agents/ext/tool/shell/JvmShellCommandExecutor.kt" target="_blank" rel="noopener">safely interrupt commands</a> that exceed this limit. This timeout value is shown to users, allowing them to reject execution if the requested duration appears unreasonable or excessive.</p>



<p>Instead of simply terminating the process and returning a generic timeout message, we should aim to preserve as much output as possible. Even incomplete results can help the LLM extract useful information, or at least understand where the timeout occurred. With careful implementation, we can achieve this:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">val stdoutJob = launch {
    process.inputStream.bufferedReader().useLines { lines ->
        try {
            lines.forEach { stdoutBuilder.appendLine(it) }
        } catch (_: IOException) {
            // Ignore IO exception if the stream is closed and silently stop stream collection
        }
    }
}

val isCompleted = withTimeoutOrNull(timeoutSeconds * 1000L) {
    process.onExit().await()
} != null

if (!isCompleted) {
    process.destroyForcibly()
}

stdoutJob.join()</pre>



<h2 class="wp-block-heading"><strong>What changed at the agent level?</strong></h2>



<p>At the agent level, the <a href="https://github.com/JetBrains/koog/blob/develop/examples/code-agent/step-02-add-execution-tool/src/main/kotlin/Main.kt" target="_blank" rel="noopener">modifications are minimal</a>, roughly a dozen lines of code. As the diff shows, the majority of these updates involve extending the system prompt.</p>



<figure class="wp-block-image size-full"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/Screenshot-2025-11-18-at-14.47.35.png" alt="" class="wp-image-660085"/></figure>



<p>We could have made our change even smaller by simply adding the tool, but instead, we also introduced two additional, though still minor, modifications to our agent.</p>



<h3 class="wp-block-heading"><strong>A) <code>BRAVE_MODE</code> toggle</strong></h3>



<p>The implementation of this toggle is relatively straightforward; it just checks the BRAVE_MODE environment variable. We even use a lambda function for the <em>Brave</em> mode ConfirmationHandler to show that implementing your own can be very simple, but one could also use the <code>BraveModeConfirmationHandler</code> that was mentioned earlier.&nbsp;</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">fun createExecuteShellCommandToolFromEnv(): ExecuteShellCommandTool {
    return if (System.getenv("BRAVE_MODE")?.lowercase() == "true") {
        ExecuteShellCommandTool(JvmShellCommandExecutor()) {
            _ -> ShellCommandConfirmation.Approved 
        }
    } else {
        ExecuteShellCommandTool(
            JvmShellCommandExecutor(), 
            PrintShellCommandConfirmationHandler(),
        )
    }
}</pre>



<h3 class="wp-block-heading"><strong>B) Enhanced “definition of done” in the prompt</strong></h3>



<p>To ensure the LLM leverages this new capability to execute code effectively, we extended the prompt with a “definition of done” that strongly encourages writing and running tests:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">"""
... // Previous prompt from step 01

Production-ready means verified to work—your changes must be proven correct and not introduce regressions.

You have shell access to execute commands and run tests. Use this to work with executable feedback instead of assumptions. Establish what correct behavior looks like through tests, then iterate your implementation until tests pass. Validate that existing functionality remains intact. Production-ready means proven through green tests—that's your definition of done.
"""</pre>



<p>So that&#8217;s it. We&#8217;ve built a complete <code>ExecuteShellCommandTool</code> component and integrated it into our agent with minimal changes. But the real question is: Does it actually improve performance?</p>



<h2 class="wp-block-heading">Benchmark testing results</h2>



<p>Running both versions against the SWE-bench-verified set confirms the execution capabilities provide a clear benefit: The agent’s performance improved from 249/500 (50%) to 279/500 (56%) successful examples. While leaderboard scores reach around 70%, our results indicate that giving agents the ability to run and validate code is a step in the right direction. However, to understand where our agent is still struggling and what to improve next, we need better visibility into its behavior. That’s where logging becomes essential.</p>



<h2 class="wp-block-heading">Conclusion: Building tools in Koog</h2>



<p>Throughout this article, we&#8217;ve seen how Koog&#8217;s tool structure works: Every tool needs a name, description and <code>execute()</code> method. We made our <code>ExecuteShellCommandTool</code> configurable via <code>ConfirmationHandler</code> and <code>CommandExecutor</code> components, showing how to delegate complex logic to swappable implementations.</p>



<p>These same patterns apply to any tool you might want to build: database connectors, API clients, file processors, or custom integrations. The framework provides the structure for LLM communication; you provide the specific capabilities.&nbsp;</p>



<p>In the next article, we’ll look at how to add logging and tracing to our agent, giving us the visibility we need to understand and improve its behavior. Understanding how your agent makes decisions is crucial for iteration, and proper tooling around observability is just as important as the tools you give the agent itself.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>The Ultimate KMP Watchlist: Level Up Your Skills in 10 Talks</title>
		<link>https://blog.jetbrains.com/kotlin/2025/11/the-ultimate-kmp-watchlist/</link>
		
		<dc:creator><![CDATA[Ekaterina Petrova]]></dc:creator>
		<pubDate>Mon, 24 Nov 2025 16:44:40 +0000</pubDate>
		<featuredImage>https://blog.jetbrains.com/wp-content/uploads/2025/11/KM-social-BlogSocialShare-1280x720-1-1.png</featuredImage>		<category><![CDATA[multiplatform]]></category>
		<guid isPermaLink="false">https://blog.jetbrains.com/?post_type=kotlin&#038;p=661307</guid>

					<description><![CDATA[The best way to skip the &#8220;beginner mistakes&#8221; phase is to learn from the teams who have already solved them at scale. For Week 3 of KMP Level Up, we’ve curated the Top 10 KotlinConf talks that cover the full spectrum of adoption, from massive production case studies to deep dives into the compiler. Whether [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>The best way to skip the &#8220;beginner mistakes&#8221; phase is to learn from the teams who have already solved them at scale.</p>



<p>For <strong>Week 3 of <a href="https://lp.jetbrains.com/kmp-level-up/" target="_blank" rel="noreferrer noopener">KMP Level Up</a></strong>, we’ve curated the <strong>Top 10 KotlinConf talks</strong> that cover the full spectrum of adoption, from massive production case studies to deep dives into the compiler. Whether you are looking for architectural inspiration, hard data to convince your stakeholders, or just want to understand the engineering magic under the hood, the answers are out there.</p>



<figure class="wp-block-image size-full"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/image-40.png" alt="" class="wp-image-661327"/></figure>



<p>Here is your KMP marathon for the week.</p>



<hr class="wp-block-separator has-alpha-channel-opacity is-style-dots"/>



<h2 class="wp-block-heading">🌍 Part 1: Production Case Studies</h2>



<p><em>Theory is nice, but does it scale? These teams proved it does.</em></p>



<p><strong><a href="https://www.youtube.com/watch?v=RJtiFt5pbfs" target="_blank" rel="noreferrer noopener">Duolingo + KMP: A Case Study in Productivity</a></strong> |  John Rodriguez &amp; Johnny Ye (2025)<br>Duolingo ships weekly to 40M+ daily users across Android, iOS, and Web. Shipping that fast requires efficiency. This talk breaks down their specific rubric for deciding <em>what</em> to share, from Video Calls to Math lessons, and how they handle the velocity required to ship constantly without breaking platform quality.</p>



<p><strong><a href="https://www.youtube.com/watch?v=HSIhkB5bGJs" target="_blank" rel="noreferrer noopener">Leveraging KMP for Navigation in the McDonald&#8217;s App</a></strong>  | Cas van Luijtelaar &amp; Anthony Bassey (2025)<br>Most teams start by sharing the data layer, but McDonald’s went much further. They use KMP to drive the navigation state itself. In this talk, they show how they keep the UI 100% native (Compose &amp; SwiftUI) but let the shared KMP layer decide <em>where</em> to go and <em>what</em> data to pass, effectively creating a scalable &#8220;dumb client&#8221; architecture.</p>



<p><strong><a href="https://www.youtube.com/watch?v=M9Nni0Qywyo" target="_blank" rel="noreferrer noopener">Two Years with KMP: From Zero to 55% Shared Code</a></strong> | Rodrigo Sicarelli (2024)<br>StoneCo is a fintech giant serving 4 million users. This isn’t a &#8220;hello world&#8221; story; it’s about training 130 mobile engineers to shift their paradigm. They break down how they achieved 55% code sharing across two massive apps and the measurable impact on developer satisfaction and velocity.</p>



<p><strong><a href="https://www.youtube.com/watch?v=VtFam_D1USw" target="_blank" rel="noreferrer noopener">Meetup with KMM Libraries</a></strong> | Colin Lee (2023)<br>If you are overwhelmed by the library ecosystem, watch this. Colin walks through the transition from a legacy codebase to a greenfield KMP app. He highlights the specific stack that saved them (Apollo GraphQL, SQLDelight, Moko Resources) and how they survived the initial &#8220;panic&#8221; from the iOS team to reach a point where everyone loves the shared workflow.</p>



<p></p>



<h2 class="wp-block-heading">🛠️ Part 2: Getting Your Hands Dirty</h2>



<p><em>Okay, you’re inspired. Now let’s look at the code.</em></p>



<p><strong><a href="https://www.youtube.com/watch?v=YKTlW8Qkj0w" target="_blank" rel="noreferrer noopener">Compose Multiplatform for iOS: Ready for Production</a></strong> | Sebastian Aigner (2025)<br>Compose Multiplatform is no longer experimental—it’s stable on iOS. Sebastian gives you the tour of the ecosystem, showing how to build production-grade UIs that share rendering logic while still feeling at home on Apple devices. Perfect for understanding the current state of the art.</p>



<p><strong><a href="https://www.youtube.com/watch?v=uATlWUBSx8Q" target="_blank" rel="noreferrer noopener">Confetti: Building a Conference App in 40 Minutes</a></strong> | John O&#8217;Reilly &amp; Martin Bonnin (2023)<br>This is a live-coding masterclass in &#8220;Full Stack Kotlin.&#8221; Watch John and Martin build a working app from scratch in real-time. They spin up a Spring Boot backend with GraphQL, generate type-safe Kotlin models on the client with Apollo, and wire it up to native UIs (Compose &amp; SwiftUI). It’s the best demo of how tight the loop can be when you use Kotlin end-to-end.</p>



<p></p>



<h2 class="wp-block-heading">🍎 Part 3: The iOS Perspective</h2>



<p><em>Because your iOS teammates need to love this too.</em></p>



<p><strong><a href="https://www.youtube.com/watch?v=sXwHIh1dLsU" target="_blank" rel="noreferrer noopener">KMP in Action: A Production Case Study</a></strong> | Annyce Davis (2024)<br>Convincing an iOS team is often the hardest part of adoption. Annyce details Meetup’s migration, specifically focusing on the &#8220;WIIFM&#8221; (What’s In It For Me) factor for skeptical engineers. The killer insight: after migrating networking to KMP, their iOS app actually got <em>faster</em> because it inherited optimized caching logic that was previously missing.</p>



<p><strong><a href="https://www.youtube.com/watch?v=j-zEAMcMcjA" target="_blank" rel="noreferrer noopener">Kotlin Multiplatform for iOS Developers</a></strong> | <em>Salomon Brys (2023)</em><br>KMP is often pitched to Android devs, but what about the other side of the aisle? Salomon steps &#8220;behind enemy lines&#8221; to explain KMP from an iOS perspective. He covers the toolchain, the limitations, and how to create a workflow that doesn&#8217;t make iOS developers feel like second-class citizens.</p>



<p><br><em>ℹ️ The ecosystem has grown significantly since 2023. New features like experimental <strong><a href="https://kotlinlang.org/docs/native-swift-export.html" target="_blank" rel="noopener">Swift Export</a></strong> now allow idiomatic Swift calls without Objective-C headers. However, Salomon’s core advice on team dynamics and workflow remains essential viewing.</em></p>



<p></p>



<h2 class="wp-block-heading">🤿 Part 4: The Deep Dive</h2>



<p><em>For those who want to see how the magic trick is performed.</em></p>



<p><strong><a href="https://www.youtube.com/watch?v=w_mkLrzb_I4" target="_blank" rel="noreferrer noopener">Using C &amp; native platforms in Kotlin: Building a multi-platform advanced library</a></strong> | <em>Salomon Brys (2024)</em><br>Sometimes you need to go low-level. Using cryptography as an excuse, this talk demonstrates how to build an advanced library that links against native C dependencies, aligns JNI with Kotlin/Native C-interop, and connects to Swift SDKs. Essential viewing for library authors.</p>



<p><strong><a href="https://www.youtube.com/watch?v=UebhKUdO2sQ" target="_blank" rel="noreferrer noopener">Implementing Compose Hot Reload</a></strong> | <em>Sebastian Sellmair (2025)</em><br>Hot Reload is a productivity game-changer, but implementing it on the JVM required deep engineering work. Sebastian breaks down the journey, from fighting ClassLoaders to patching the Kotlin Compiler to handle &#8220;shifting lambda names.&#8221; A fascinating look under the hood of the tooling we take for granted.</p>



<hr class="wp-block-separator has-alpha-channel-opacity is-style-dots"/>



<p>📺&nbsp;<strong>Want to watch them all in one go?</strong> We’ve compiled every talk from this list into a single&nbsp;<strong><a href="https://www.youtube.com/playlist?list=PLlFc5cFwUnmyjXcFPpbYqKwyaIPgZC0w5" target="_blank" rel="noopener">KMP Level Up Playlist</a></strong>&nbsp;on YouTube. Save it to your library and start your marathon.</p>



<figure class="wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio"><div class="wp-block-embed__wrapper">
<iframe loading="lazy" title="The Ultimate KMP Watchlist: Level Up Your Skills in 10 Talks" src="https://www.youtube.com/embed/videoseries?list=PLlFc5cFwUnmyjXcFPpbYqKwyaIPgZC0w5" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</div></figure>



<p></p>



<h2 class="wp-block-heading">🎫 Join us in the Real World</h2>



<p>These talks represent the current state of the art, but the ecosystem is moving fast. The best way to stay ahead is to be where the conversations happen.</p>



<p><strong>KotlinConf 2026 tickets are on sale now!</strong> Come meet these speakers, ask the hard questions, and see the future of KMP before it hits YouTube.</p>



<p align="center"><a class="ek-link jb-download-button" title="Watch now" href="https://pretix.eu/jetbrains/kotlinconf2026/c/8dPH9AWGJ/" target="_blank" rel="noopener">Get Your Ticket</a></p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Amper Update, November 2025 – Extensibility Preview</title>
		<link>https://blog.jetbrains.com/amper/2025/11/amper-update-november-2025/</link>
		
		<dc:creator><![CDATA[Joffrey Bion]]></dc:creator>
		<pubDate>Mon, 24 Nov 2025 14:47:36 +0000</pubDate>
		<featuredImage>https://blog.jetbrains.com/wp-content/uploads/2025/11/AMP-social-BlogFeatured-1280x720-1.png</featuredImage>		<product ><![CDATA[kotlin]]></product>
		<guid isPermaLink="false">https://blog.jetbrains.com/?post_type=amper&#038;p=660786</guid>

					<description><![CDATA[Amper 0.9.0 is out, and it brings the first version of our extensibility prototype! Read on for all of the details, and see the release notes for the full list of changes and bug fixes. To get support for Amper’s latest features, use IntelliJ IDEA 2025.3 Beta (or newer). New Amper website We revamped our [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p><a href="https://github.com/JetBrains/amper/releases/tag/v0.9.0" target="_blank" rel="noopener">Amper 0.9.0</a> is out, and it brings the first version of our extensibility prototype! Read on for all of the details, and see <a href="https://github.com/JetBrains/amper/releases/tag/v0.9.0" target="_blank" rel="noopener">the release notes</a> for the full list of changes and bug fixes.</p>



<p><em>To get support for Amper’s latest features, use </em><a href="https://www.jetbrains.com/idea/nextversion/" target="_blank" rel="noopener"><em>IntelliJ IDEA 2025.3 Beta</em></a><em> (or newer).</em></p>



<h2 class="wp-block-heading">New Amper website</h2>



<p>We revamped our documentation and turned it into a brand new website! You no longer have to read Markdown files on GitHub. We hope you’ll enjoy the new structure, as well as the navigation and search functionality.</p>



<p>Check it out at <a href="https://amper.org" target="_blank" rel="noopener">https://amper.org</a>.</p>



<figure class="wp-block-image size-full"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/amper-org-website.png" alt="" class="wp-image-660787" /></figure>



<h2 class="wp-block-heading">Extensibility preview</h2>



<p>It’s finally here: our first preview of Amper’s extensibility!</p>



<p>Our philosophy is to give a “batteries included” experience to our users, and this is why we want Amper to cover the most common use cases out of the box. However, a lot of projects have special needs, and the built-in behavior falls short eventually. To address this, Amper now offers the option to write custom tasks and expose them to your modules via plugins.</p>


                    <div class="alert ">
            <p><strong>Note:</strong> Only local plugins are supported at the moment, but we will soon add the ability to publish and share plugins.</p>
        </div>
    






<p>In Amper 0.9.0, you can create modules with the new <code>jvm/amper-plugin</code> product type. These modules contain the Kotlin code implementing your custom tasks, and a <code>plugin.yaml</code> file to register your tasks and their inputs and outputs.</p>



<p>Why do you need to use both Kotlin and YAML? As usual with Amper, tooling is paramount. Thanks to this approach, you will get nice diagnostics in case you make mistakes with your task wiring. Don’t worry, though, navigating between YAML and Kotlin is already seamless with the current basic IDE support.</p>



<figure class="wp-block-image size-full is-style-default"><img decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/plugin-yaml-and-kotlin.png" alt="" class="wp-image-660932" style="aspect-ratio:3.1941747572815533;object-fit:cover; width:100% !important; height:auto !important; max-width:100% !important;" /></figure>



<p>Task dependencies are automatically inferred based on inputs and outputs, and task avoidance is already available by default. Inputs can be simple scalar values or files, or even your module’s compile or runtime classpath – thanks to the built-in <code>Classpath</code> type. Outputs can be regular files, but they can also be registered as generated sources or resources so the rest of the build takes them into account.</p>



<p>Build your own plugin from scratch by following our <a href="https://amper.org/0.9/user-guide/plugins/quick-start" target="_blank" rel="noopener">plugin quick-start guide</a>, and tell us what you think in our <a href="https://slack-chats.kotlinlang.org/c/amper" target="_blank" rel="noopener">Slack channel</a> or in a <a href="https://youtrack.jetbrains.com/newIssue?project=AMPER&amp;c=Type+Bug&amp;c=tag+amper-plugins-report" target="_blank" rel="noopener">YouTrack issue</a>.</p>



<p>Please bear in mind that this preview is incomplete, and many more features will come in the future, including:</p>



<ul>
<li>The ability to publish plugins and share them with other projects.</li>



<li>Templates that are bundled with your plugin to add configuration to the consumer module.</li>



<li>Reduced boilerplate when writing tasks that are only used in a single module.</li>



<li>Services and libraries for common task-authoring needs.</li>



<li>More IDE quick-fixes and intention actions.</li>
</ul>



<p></p>



<p>Learn more about the current and future state in our <a href="https://amper.org/0.9/user-guide/plugins/overview" target="_blank" rel="noopener">plugin documentation</a>.</p>



<h2 class="wp-block-heading">Dependency resolution performance improvements</h2>



<p>The dependency resolution phase was previously a performance bottleneck, especially during IDE import and sync.</p>



<p>Even though all downloaded files are locally cached and reused, building the dependency graph itself takes time, as Amper needs to read all the local <code>pom.xml</code> and Gradle metadata files. Amper now caches the dependency graph itself and reuses it when your dependencies haven’t changed, which can sometimes save tens of seconds on hot caches!</p>



<p>There is certainly more we can do here, and we’ll continue improving dependency resolution performance, so stay tuned!</p>



<h2 class="wp-block-heading">Incremental compilation for Java</h2>



<p>Amper has had task avoidance since day one, which means that it skips the whole compilation task of a module if its sources and dependencies haven’t changed. However, this doesn&#8217;t help if you have a large module with lots of sources, because any change in any file will cause the recompilation of the whole module.</p>



<p>This is where incremental compilation comes in. In Amper 0.9.0, you can use our incremental Java compilation engine, which recompiles only what&#8217;s necessary based on the exact changes in the module sources. Any change in your sources will still cause the compilation task to run, but now the task itself will be faster.</p>



<p>To enable this feature, simply add the following to your <code>module.yaml</code> file:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="yaml" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">settings:
  java:
    compileIncrementally: true</pre>



<h2 class="wp-block-heading">Maven-like layout support</h2>



<p>Amper’s default directory layout is simple and concise, and we love it. That said, we do understand that transitioning from Maven or Gradle is quite tedious and error-prone if it involves moving all files around. This is particularly painful if you want to try out Amper in a separate long-lived Git branch and get updates from your main branch.</p>



<p>As of Amper 0.9.0, you can choose to keep your sources and resources in the conventional Maven directory layout, so you don’t have to move your existing files immediately:</p>


<div class="wp-block-image">
<figure class="aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/maven-like-layout.png" alt="" class="wp-image-660945" style="aspect-ratio:0.8469945355191257;width:413px;height:auto; width:100% !important; height:auto !important; max-width:100% !important;" /></figure></div>


<p>To do so, add <code>layout: maven-like</code> to your <code>module.yaml</code> file. If you intend to do this for all your modules, use a template to handle this in a central place.</p>


                    <div class="alert ">
            <p><strong>Note:</strong> The maven-like layout is only available for the &#8220;jvm/app&#8221; and &#8220;jvm/lib&#8221; product types.</p>
        </div>
    






<h2 class="wp-block-heading">Library catalog at the project root</h2>



<p>Amper now supports placing your Gradle-style version catalog (<code>libs.versions.toml</code>) in the project root instead of in the <code>gradle</code> folder. Of course, you are free to keep using <code>gradle/libs.versions.toml</code> if you want to keep compatibility with your Gradle layout.</p>



<p>In the IDE, using intention actions to extract dependencies to a new catalog will now create the catalog in the project root.</p>


                    <div class="alert ">
            <p><strong>Note:</strong> You can only use a single library catalog for your project, so you have to pick one of the locations.</p>
        </div>
    






<h2 class="wp-block-heading">IDE improvements</h2>



<h3 class="wp-block-heading">Auto-sync of the project configuration</h3>



<p>Changes to your Amper configuration files are now automatically taken into account, which means you no longer need to manually click the <em>Sync </em><img decoding="async" loading="lazy" class="wp-image-660956" style="width: 18px; width:100% !important; height:auto !important; max-width:100% !important;" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/sync-button.png" alt="IntelliJ IDEA Sync button"> button!</p>



<p>This was made possible by the improvements in dependency resolution caching we’ve seen above.</p>



<p>If syncing involves downloading new dependencies or other lengthy processes, you’ll see a progress indicator in the status bar; otherwise, the sync should be seamless.</p>



<figure class="wp-block-video"><video autoplay controls loop muted src="https://blog.jetbrains.com/wp-content/uploads/2025/11/auto-sync.mp4"></video></figure>


                    <div class="alert ">
            <p><strong>Note:</strong> This behavior can be configured for the current project in &#8220;Settings | Build, Execution, Deployment | Build Tools&#8221;. If you want to change the default for future new projects, you can do so in &#8220;Settings | Advanced Settings | Build Tools. Amper&#8221;.</p>
        </div>
    






<h3 class="wp-block-heading">Sync details</h3>



<p>The <em>Build</em> tool window now provides more insights into the stages of the sync process, and shows errors and warnings arising from them.</p>


<div class="wp-block-image">
<figure class="aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/sync-steps-tool-window.png" alt="" class="wp-image-660978" style="aspect-ratio:1.9754901960784315;width:544px;height:auto; width:100% !important; height:auto !important; max-width:100% !important;" /></figure></div>

<div class="wp-block-image">
<figure class="aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/sync-steps-tool-window-with-diagnostics.png" alt="" class="wp-image-660989" style="aspect-ratio:1.935546875;width:546px;height:auto; width:100% !important; height:auto !important; max-width:100% !important;" /></figure></div>


<h3 class="wp-block-heading">IDE assistance for setting the main class</h3>



<p>You can configure the entrypoint of a <code>jvm/app</code> module using <code>settings.jvm.mainClass</code>. Finding the fully-qualified name of your main class is never fun, though. This is why IntelliJ IDEA now provides completion for it directly in your YAML file!</p>



<p>The completion list includes all class names that have a valid main function. By default, only classes present in the module itself are shown, but you can also invoke completion a second time to get results from your dependencies too:</p>



<figure class="wp-block-video"><video autoplay controls loop muted src="https://blog.jetbrains.com/wp-content/uploads/2025/11/main-completion.mp4"></video></figure>



<p>That’s not all. IntelliJ IDEA also provides assistance with navigation and resolution, and it will even warn you about the infamous missing <code>Kt</code> suffix when referring to the class Kotlin generates for top-level main functions.</p>


<div class="wp-block-image">
<figure class="aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/main-class-did-you-mean-kt.png" alt="" class="wp-image-661015" style="aspect-ratio:2.87248322147651;width:712px;height:auto; width:100% !important; height:auto !important; max-width:100% !important;" /></figure></div>


<h3 class="wp-block-heading">Improved quick-fix for overridden catalog versions</h3>



<p>Amper warns you when your module doesn’t get the requested version of a dependency because of dependency conflicts. However, when this happens with a library catalog dependency, it isn’t obvious what the fix should be, as it depends on your intent.</p>



<p>To address this issue, IntelliJ IDEA now offers two different quick-fixes: one to replace the catalog reference with an explicit version in the problematic module, and one to update the version in the catalog itself. Use <em>Alt+Enter</em> or click the <em>More actions…</em> option in the warning tooltip to access these fixes:</p>



<figure class="wp-block-image size-full"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/catalog-version-overridden-warning.png" alt="" class="wp-image-661026" /></figure>


<div class="wp-block-image">
<figure class="aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/catalog-version-overridden-quickfixes.png" alt="" class="wp-image-661037" style="aspect-ratio:2.202416918429003;width:469px;height:auto; width:100% !important; height:auto !important; max-width:100% !important;" /></figure></div>


<h3 class="wp-block-heading">Dedicated color theme settings</h3>



<p>You can now customize the colors in your Amper YAML files.</p>



<p>Head over to <em>File | Settings | Editor | Color Scheme | Amper</em> and get creative!</p>


<div class="wp-block-image">
<figure class="aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/amper-color-scheme-settings.png" alt="" class="wp-image-661048" style="aspect-ratio:1.1368584758942457;width:724px;height:auto; width:100% !important; height:auto !important; max-width:100% !important;" /></figure></div>


<h2 class="wp-block-heading">Updated default versions</h2>



<p>We updated some of our default versions for toolchains and frameworks:</p>



<ul>
<li>Kotlin 2.2.21</li>



<li>Compose Hot Reload 1.0.0-rc01</li>



<li>KSP 2.3.0</li>



<li>JUnit Platform 6.0.1</li>
</ul>



<p></p>



<p>Also, the default value for <code>settings.jvm.release</code> is now 21.</p>



<h2 class="wp-block-heading">Try Amper 0.9.0</h2>



<p>To update an existing project, use the <code>./amper update</code> command.</p>



<p>To get started with Amper, check out our <a href="https://jb.gg/amper/get-started" target="_blank" rel="noopener"><em>Getting started</em></a> guide. Take a look at some examples, follow a tutorial, or read the comprehensive user guide depending on your learning style.</p>


    <div class="buttons">
        <div class="buttons__row">
                                                <a href="https://amper.org" class="btn" target="" rel="noopener">Try Amper</a>
                                                    </div>
    </div>







<h2 class="wp-block-heading">Share your feedback</h2>



<p>Amper is still experimental and under active development. You can provide feedback about your experience by joining the discussion in the <a href="https://slack-chats.kotlinlang.org/c/amper" target="_blank" rel="noopener">Kotlinlang Slack’s #amper channel</a> or sharing your suggestions and ideas in a <a href="https://youtrack.jetbrains.com/issues/AMPER" target="_blank" rel="noopener">YouTrack issue</a>. Your input and use cases help shape the future of Amper!</p>
]]></content:encoded>
					
		
		
		<media:content url="https://blog.jetbrains.com/wp-content/uploads/2024/02/amper_vc_1.mp4" medium="video" width="1600" height="1000">
			<media:player url="https://blog.jetbrains.com/wp-content/uploads/2024/02/amper_vc_1.mp4" />
			<media:title type="plain">Amper | The Amper Blog</media:title>
			<media:description type="html"><![CDATA[Amper 0.9.0 is out, and it brings the first version of our extensibility prototype! Read on for all of the details, and see the release notes for the full list of changes and bug fixes.]]></media:description>
			<media:thumbnail url="https://blog.jetbrains.com/wp-content/uploads/2025/11/AMP-social-BlogFeatured-1280x720-1.png" />
			<media:rating scheme="urn:simple">nonadult</media:rating>
		</media:content>
	</item>
		<item>
		<title>Scaling Kotlin Adoption Across Your Organization</title>
		<link>https://blog.jetbrains.com/kotlin/2025/11/scaling-kotlin-adoption-across-your-organization/</link>
		
		<dc:creator><![CDATA[Alyona Chernyaeva]]></dc:creator>
		<pubDate>Mon, 24 Nov 2025 11:42:14 +0000</pubDate>
		<featuredImage>https://blog.jetbrains.com/wp-content/uploads/2025/11/Blog-Featured-1280x720-4.png</featuredImage>		<guid isPermaLink="false">https://blog.jetbrains.com/?post_type=kotlin&#038;p=655951</guid>

					<description><![CDATA[Guest post by Urs Peter, Senior Software Engineer and JetBrains-certified Kotlin Trainer. For readers who’d like a more structured way to build Kotlin skills, Urs also leads the&#160;Kotlin Upskill Program at Xebia Academy. This is the fifth post in The Ultimate Guide to Successfully Adopting Kotlin in a Java-Dominated Environment, a series that follows how [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p><em>Guest post by <a href="https://www.linkedin.com/in/urs-peter-70a2882/" data-type="link" data-id="https://bit.ly/urs-peter-linked-in" target="_blank" rel="noreferrer noopener">Urs Peter</a>, Senior Software Engineer and JetBrains-certified Kotlin Trainer. For readers who’d like a more structured way to build Kotlin skills, Urs also leads the&nbsp;</em><a href="https://academy.xebia.com/upskilling/kotlin-academy/" target="_blank" rel="noreferrer noopener"><em>Kotlin Upskill Program</em></a><em> at Xebia Academy.</em></p>



<p><em>This is the fifth post in </em><strong><em>The Ultimate Guide to Successfully Adopting Kotlin in a Java-Dominated Environment</em></strong><em>, a series that follows how Kotlin adoption grows among real teams, from a single developer’s curiosity to company-wide transformation.</em></p>



<p><strong>All parts in the series:</strong></p>



<ol>
<li><a href="https://blog.jetbrains.com/kotlin/2025/10/getting-started-with-kotlin-for-java-developers/" target="_blank" rel="noreferrer noopener">Getting Started With Kotlin for Java Developers</a></li>



<li><a href="https://blog.jetbrains.com/kotlin/2025/10/evaluating-kotlin-in-real-projects/" data-type="link" data-id="https://blog.jetbrains.com/kotlin/2025/10/evaluating-kotlin-in-real-projects/" target="_blank" rel="noreferrer noopener">Evaluating Kotlin in Real Projects</a></li>



<li><a href="https://blog.jetbrains.com/kotlin/2025/11/growing-kotlin-adoption-in-your-company/" target="_blank" rel="noreferrer noopener">Growing Kotlin Adoption in Your Company</a></li>



<li><a href="https://blog.jetbrains.com/kotlin/2025/11/helping-decision-makers-say-yes-to-kotlin/" data-type="link" data-id="https://blog.jetbrains.com/kotlin/2025/11/helping-decision-makers-say-yes-to-kotlin/" target="_blank" rel="noreferrer noopener">Helping Decision-Makers Say Yes to Kotlin</a></li>



<li>Scaling Kotlin Adoption Across Your Organization</li>
</ol>



<hr class="wp-block-separator has-alpha-channel-opacity"/>



<h2 class="wp-block-heading"><strong>Success Factors for Large-Scale Kotlin Adoption</strong></h2>



<p>Gaining developer buy-in and management support for Kotlin is a significant milestone, but it&#8217;s not the finish line. The real challenge begins when you&#8217;re faced with existing Java codebases that need to coexist with or transition to Kotlin. How do you navigate this hybrid world effectively?</p>



<p>The key to managing legacy codebases is developing a strategy that aligns with your organizational goals and operational realities. Here&#8217;s a proven approach that has worked out well in practice.</p>



<h2 class="wp-block-heading"><strong>Application lifecycle strategy</strong></h2>



<p>Different applications require different approaches based on their lifecycle phase. Let&#8217;s examine three distinct categories:</p>



<h3 class="wp-block-heading"><strong>End-of-life applications</strong></h3>



<p><strong>Strategy: Leave them alone.</strong></p>



<p>If an application is scheduled for retirement, there&#8217;s no business case for migration. Keep these systems in Java and focus your energy where it matters most. The cost of migration will never be justified by the remaining lifespan of the application.</p>



<h3 class="wp-block-heading"><strong>New systems</strong></h3>



<p><strong>Strategy: Default to Kotlin.</strong></p>



<p>In organizations where Kotlin adoption is complete, greenfield projects naturally start with Kotlin. If the adoption process is in progress, teams often get the choice between Java and Kotlin. Choose wisely ;-).</p>



<h3 class="wp-block-heading"><strong>Active applications</strong></h3>



<p><strong>Strategy: Pragmatic, feature-driven migration.</strong></p>



<p>Active applications are the ones that require careful consideration: Rewriting for the sake of rewriting is a tough sell to your Product Owner. Instead, combine migration efforts with new feature development. This approach provides tangible business value while modernizing your codebase. The different attack angles we already discussed in the section: <a href="https://docs.google.com/document/d/1CBnxrE1KB_YOF_su8bVRJpGDD5G2Jo870pjSwZb5yaQ/edit?tab=t.0#heading=h.wzs8ids1wb0d" target="_blank" rel="noreferrer noopener"><em>Extend/Convert an existing Java application</em></a>.</p>



<h2 class="wp-block-heading"><strong>Java-to-Kotlin conversion approaches</strong></h2>



<p>When converting Java to Kotlin, you have several options, each with distinct trade-offs:</p>



<p><strong>1. Complete rewrite</strong></p>



<p><strong>Best for:</strong> Small codebases&nbsp;</p>



<p><strong>Challenge:</strong> Time-intensive for larger systems</p>



<p>Rewriting a codebase from scratch gives you the cleanest, most idiomatic Kotlin code. This approach is suitable for small codebases, like a MicroService. For large codebases, this approach generally tends to be prohibitively expensive.</p>



<h3 class="wp-block-heading"><strong>2. IDE auto-conversion with manual refinement</strong></h3>



<p><strong>Best for:</strong> Medium codebases with dedicated refactoring time</p>



<p><strong>Challenge:</strong> Manual refinements are mandatory&nbsp;</p>



<p>IntelliJ IDEA&#8217;s <em>Convert Java to Kotlin</em> feature provides a literal translation that&#8217;s far from idiomatic. Consider this example:</p>



<p>Take 1:&nbsp;</p>



<p><strong>Java</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="java" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">record Developer(
       String name,
       List&lt;String> languages
) {}</pre>



<p><strong>Raw auto-conversion result:</strong></p>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">@JvmRecord
data class Developer(
   val name: String?,
   val languages: MutableList&lt;String?>?
)</pre>



<p>This conversion has several issues:</p>



<ul>
<li>Everything becomes nullable (overly defensive).</li>



<li>Java Collections become Kotlin&#8217;s <code>MutableList</code> instead of&nbsp; Kotlin’s default read-only List.</li>
</ul>



<p><strong>Improving the conversion with jspecify annotations:</strong></p>



<p>Luckily, for the conversion of all Java types to Nullable types in Kotlin, there is a remedy in the form of @NonNull/@Nullable annotations. Different options are available; the most modern one is <a href="https://jspecify.dev/" target="_blank" rel="noreferrer noopener">jspecify</a>, which has recently also been officially supported by Spring:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">&lt;dependency>
   &lt;groupId>org.jspecify&lt;/groupId>
   &lt;artifactId>jspecify&lt;/artifactId>
   &lt;version>1.0.0&lt;/version>
&lt;/dependency>

implementation("org.jspecify:jspecify:1.0.0")</pre>



<p>With jspecify, we can annotate the Java code with @Nullable and @NonNull.</p>



<p>Take 2:&nbsp;</p>



<p><strong>Java</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="java" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">import org.jspecify.annotations.NonNull;
import org.jspecify.annotations.Nullable;

record Developer(
       @NonNull String name, 
       @NonNull List&lt;@NonNull String> languages,
       @Nullable String email
) {}</pre>



<p>Now the auto-conversion produces much better results:</p>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">@JvmRecord
data class Developer(
   //😃 non-null as requested
   val name: String, 
   //😃 both, collection and type are non-null
  val languages: MutableList&lt;String>,
   //😃 nullable as requested
  val email: String?, 
)</pre>



<p><strong>Limitations of the auto conversion approach:</strong></p>



<p>Even with jspecify annotations, complex Java patterns don&#8217;t translate well. Consider this auto-converted code example shown in section:<em> </em><em>3. No more checked Exceptions, yet safer code in Kotlin</em><strong>:</strong></p>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">fun downloadAndGetLargestFile(urls: MutableList&lt;String>): String? {
     //🤨 using Stream, instead of Kotlin Collections
     val contents = urls.stream().map { urlStr: String? ->
     //🤨 still using Optional, rather than Nullable types
     //🤨 var but we want val!
     var optional: Optional&lt;URL>
     //🤨 useless try-catch, no need to catch in Kotlin
     try {
         optional = Optional.of(URI(urlStr).toURL())
     } catch (e: URISyntaxException) {
           optional = Optional.empty&lt;URL>()
     } catch (e: MalformedURLException) {
           optional = Optional.empty&lt;URL>()
     }
     optional
   }.filter { it!!.isPresent() }//🤨 discouraged !! to force conversion to non-null
    .map {it.get() }
    .map { url: URL ->
      //🤨 useless try-catch, no need to catch in Kotlin
      try {
        url.openStream().use { `is` -> 
           String(`is`.readAllBytes(), StandardCharsets.UTF_8)
        }
      } catch (e: IOException) {
         throw IllegalArgumentException(e)
       }
    }.toList()
   //🤨 usage of Java collections…
   return Collections.max(contents)
}</pre>



<p>The autoconversion is far away from the desired, idiomatic result:</p>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">fun downloadAndGetLargestFile(urls: List&lt;String>): String? =
   urls.mapNotNull {
       runCatching { URI(it).toURL() }.getOrNull()
   }.maxOfOrNull{ it.openStream().use{ it.reader().readText() } }</pre>



<p>The auto-conversion provides a starting point, but significant manual refinement and knowledge of idiomatic Kotlin is required to achieve truly idiomatic Kotlin.</p>



<p><strong>3. AI-assisted conversion</strong></p>



<p><strong>Best for: </strong>Larger codebases with robust testing infrastructure</p>



<p><strong>Challenge:</strong> Manual review required</p>



<p>AI can potentially produce more idiomatic results than basic auto-conversion, but success requires careful preparation:</p>



<p><strong>Prerequisites:</strong></p>



<ol>
<li><strong>Comprehensive testing coverage: </strong>Since LLMs are unpredictable, you need reliable tests to catch AI hallucinations.</li>



<li><strong>Well-crafted system prompts:</strong> Create detailed instructions for idiomatic Kotlin conversions that are aligned with your standards. You can use<a href="https://gist.github.com/upeter/554dcb541cd3fb4bf9ea0be0a6887405" target="_blank" rel="noreferrer noopener"> this system prompt</a> as a starting point.</li>



<li><strong>Extensive code review:</strong> AI output requires a thorough review for logical and idiomatic correctness, which can be mentally taxing for large codebases.</li>
</ol>



<p>Using the proposed <a href="https://gist.github.com/upeter/554dcb541cd3fb4bf9ea0be0a6887405" target="_blank" rel="noreferrer noopener">system prompt</a> to guide the conversion, the result is quite satisfying, yet not perfect:<br><br><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">fun downloadAndGetLargestFile(urls: List&lt;String>): String? {
   val contents = urls
      .mapNotNull { 
            urlStr -> runCatching { URI(urlStr).toURL() }.getOrNull() 
      }.mapNotNull { url -> runCatching { 
            url.openStream().use { it.readAllBytes().toString(UTF_8)
         } 
      }.getOrNull() }

   return contents.maxOrNull()
}</pre>



<p><strong>4. Auto-conversion at scale</strong></p>



<p><strong>Best for:</strong> Massive codebases requiring systematic transformation</p>



<p>Currently, there&#8217;s no official tooling for converting Java codebases to idiomatic Kotlin at scale. However, both Meta and Uber have successfully tackled this challenge for their Android codebases using approaches that work equally well for backend applications. The following documentation and talks provide insights into how Meta and Uber approach this quest:</p>



<p><strong>Meta&#8217;s approach:</strong>                                                                                    </p>



<p> <img decoding="async" loading="lazy" class="wp-image-656947" style="width: 150px;; width:100% !important; height:auto !important; max-width:100% !important;" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/unnamed-1.png" alt="Meta"></p>



<ul>
<li><strong>Strategy:</strong> Rule-based, deterministic transformation</li>



<li><strong>Resources:</strong>                                                                                               
<ul>
<li><a href="https://engineering.fb.com/2024/12/18/android/translating-java-to-kotlin-at-scale/" target="_blank" rel="noreferrer noopener">Engineering blog post</a></li>



<li><a href="https://www.youtube.com/watch?v=zfnOjAYdWrc&amp;ab_channel=%40Scale" target="_blank" rel="noreferrer noopener">Conference talk</a>                           </li>
</ul>
</li>
</ul>



<p><strong>Uber&#8217;s approach:</strong>                                                                                 </p>



<p> <img decoding="async" loading="lazy" class="wp-image-656958" style="width: 150px;; width:100% !important; height:auto !important; max-width:100% !important;" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/unnamed.png" alt="Uber"></p>



<ul>
<li><strong>Strategy:</strong> Rule-based, deterministic transformation using AI to generate conversion rules</li>



<li><strong>Resource:</strong><a href="https://kotlinconf.com/talks/811915/" target="_blank" rel="noreferrer noopener"> KotlinConf presentation</a></li>
</ul>



<p>Both companies succeeded by creating systematic, repeatable processes rather than relying on manual conversion or simple automation. Their rule-based approaches ensure consistency and quality across millions of lines of code.</p>



<p><strong>Important</strong>:<strong> </strong>Converting Java to Kotlin at scale introduces a challenge on the social level: to be reliable, you still want ‘the human in the loop’ reviewing the generated code. However, if not planned carefully, Engineers can easily be overwhelmed by the flood of pull requests resulting from the automated conversion. Therefore, the social impact needs to be considered carefully.&nbsp;</p>



<p>Remember, successful large-scale Kotlin adoption isn&#8217;t just about converting code – it&#8217;s about building team expertise, establishing coding standards, and creating sustainable processes that deliver long-term value to your organization.</p>



<p><strong>Short recap on when to use which approach:</strong></p>



<ul>
<li>Small application or being rewritten anyway?<br>→ <strong>Rewrite in Kotlin (1)</strong><strong><br></strong></li>



<li>Medium codebases with dedicated refactoring time or team learning Kotlin?<br>→ <strong>Intellij IDEA Auto-Conversion + refine</strong> (start with tests first) <strong>(2)</strong><br></li>



<li>Mid/large code with repeated patterns and good tests?<br>→ <strong>AI-assisted approach (3) </strong><strong><br></strong></li>



<li>Org-level migration to Kotlin across many services?<br>→ <strong>Auto-Conversion at scale with concrete plan</strong> (platform-led) <strong>(4)</strong></li>
</ul>



<h2 class="wp-block-heading"><strong>Unlock Kotlin’s full potential</strong></h2>



<p>Kotlin makes developers productive fast. Its concise syntax, safety features, and rich standard library help many developers write better code within weeks – often through self-study or on-the-job learning. But without guidance, many fall into the trap of using Kotlin in a <em>Java-like way</em>: sticking to mutable structures, verbose patterns, and missing out on idiomatic features.</p>



<p><strong>Reaching the next level</strong></p>



<p>Reaching the <em>next level</em> – embracing immutability, expression-oriented code, DSLs, and structured concurrency with Coroutines (with or without Virtual Threads) – is where many developers get stuck.</p>



<p>At this stage, I’ve found that external training makes a far greater difference than self-study. Even developers with years of Kotlin experience often benefit from focused coaching to adopt idiomatic patterns and unlock the language’s full potential.</p>



<figure class="wp-block-image size-full"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/kotlin-heroes.png" alt="Kotlin Heroes" class="wp-image-656971"/></figure>



<h2 class="wp-block-heading"><strong>To Kotlin or Not to Kotlin: What Kind of Company Do You Want to Be?</strong></h2>



<p>Ultimately, the decision to adopt Kotlin reflects your engineering culture. Do you value the:</p>



<ul>
<li><strong>Traditional approach (Java)</strong>: Conservative, ceremonial, stable.</li>



<li><strong>Progressive approach (Kotlin)</strong>: Pragmatic, modern, adaptive.</li>
</ul>



<p>Both have their merits. Java will get the job done. Kotlin will likely get it done better, with happier developers and fewer bugs. The question isn&#8217;t whether Kotlin is better – it&#8217;s whether your organization is ready to invest in being better.</p>



<p>The journey from that first Kotlin test to organization-wide adoption isn&#8217;t always smooth, but with the right approach, it&#8217;s remarkably predictable. Start small, prove value, build community, and scale thoughtfully.</p>



<p>Your developers – current and future – will thank you.</p>


    <div class="about-author ">
        <div class="about-author__box">
            <div class="row">
                                                            <div class="about-author__box-img">
                            <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/10/a3f7-400o400o1-QYUavRYyARnAVJLCpM1m8M.webp" alt="" loading="lazy">
                        </div>
                                        <div class="about-author__box-text">
                                                    <h4>Urs Peter</h4>
                                                <p>Urs is a seasoned software engineer, solution architect, conference speaker, and trainer with over 20 years of experience in building resilient, scalable, and mission-critical systems, mostly involving Kotlin and Scala.</p>
<p>Besides his job as a consultant, he is also a passionate trainer and author of a great variety of courses ranging from language courses for Kotlin and Scala to architectural trainings such as Microservices and Event-Driven Architectures.</p>
<p>As a people person by nature, he loves to share knowledge and inspire and get inspired by peers on meetups and conferences. Urs is a JetBrains certified Kotlin trainer.</p>
                    </div>
                            </div>
        </div>
    </div>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Helping Decision‑Makers Say Yes to Kotlin</title>
		<link>https://blog.jetbrains.com/kotlin/2025/11/helping-decision-makers-say-yes-to-kotlin/</link>
		
		<dc:creator><![CDATA[Alyona Chernyaeva]]></dc:creator>
		<pubDate>Tue, 18 Nov 2025 12:11:19 +0000</pubDate>
		<featuredImage>https://blog.jetbrains.com/wp-content/uploads/2025/11/Blog-Featured-1280x720-3.png</featuredImage>		<guid isPermaLink="false">https://blog.jetbrains.com/?post_type=kotlin&#038;p=655947</guid>

					<description><![CDATA[Guest post by Urs Peter, Senior Software Engineer and JetBrains-certified Kotlin Trainer. For readers who’d like a more structured way to build Kotlin skills, Urs also leads the&#160;Kotlin Upskill Program at Xebia Academy. This is the fourth post in The Ultimate Guide to Successfully Adopting Kotlin in a Java-Dominated Environment, a series that follows how [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p><em>Guest post by <a href="https://www.linkedin.com/in/urs-peter-70a2882/" data-type="link" data-id="https://bit.ly/urs-peter-linked-in" target="_blank" rel="noreferrer noopener">Urs Peter</a>, Senior Software Engineer and JetBrains-certified Kotlin Trainer. For readers who’d like a more structured way to build Kotlin skills, Urs also leads the&nbsp;</em><a href="https://academy.xebia.com/upskilling/kotlin-academy/" target="_blank" rel="noreferrer noopener"><em>Kotlin Upskill Program</em></a><em> at Xebia Academy.</em></p>



<p><em>This is the fourth post in </em><strong><em>The Ultimate Guide to Successfully Adopting Kotlin in a Java-Dominated Environment</em></strong><em>, a series that follows how Kotlin adoption grows among real teams, from a single developer’s curiosity to company-wide transformation.</em></p>



<p><strong>All parts in the series:</strong></p>



<ol>
<li><a href="https://blog.jetbrains.com/kotlin/2025/10/getting-started-with-kotlin-for-java-developers/" target="_blank" rel="noreferrer noopener">Getting Started With Kotlin for Java Developers</a></li>



<li><a href="https://blog.jetbrains.com/kotlin/2025/10/evaluating-kotlin-in-real-projects/" data-type="link" data-id="https://blog.jetbrains.com/kotlin/2025/10/evaluating-kotlin-in-real-projects/" target="_blank" rel="noreferrer noopener">Evaluating Kotlin in Real Projects</a></li>



<li><a href="https://blog.jetbrains.com/kotlin/2025/11/growing-kotlin-adoption-in-your-company/" target="_blank" rel="noreferrer noopener">Growing Kotlin Adoption in Your Company</a></li>



<li>Helping Decision‑Makers Say Yes to Kotlin</li>



<li><a href="https://blog.jetbrains.com/kotlin/2025/11/scaling-kotlin-adoption-across-your-organization/" target="_blank" data-type="link" data-id="https://blog.jetbrains.com/kotlin/2025/11/scaling-kotlin-adoption-across-your-organization/" rel="noreferrer noopener">Scaling Kotlin Adoption Across Your Organization</a></li>
</ol>



<hr class="wp-block-separator has-alpha-channel-opacity"/>



<h2 class="wp-block-heading"><strong>Persuading Management: Building the Business Case for Kotlin</strong></h2>



<p>Once you have achieved a critical mass of Kotlin supporters, presenting a compelling business case to management requires moving beyond code demonstrations to hard data and strategic considerations.</p>



<p><strong>Market momentum and industry validation</strong></p>



<p>Kotlin has demonstrated remarkable growth, with 2.5 million developers worldwide now using the language. This represents sustained adoption since Google&#8217;s pivotal 2017 announcement declaring Kotlin the official language for Android development, followed by Spring Boot&#8217;s embrace of Kotlin as a first-class citizen.</p>



<p>Source: <a href="https://youtu.be/F5NaqGF9oT4" target="_blank" rel="noreferrer noopener">Keynote KotlinConf 2025</a></p>



<p>The momentum has accelerated significantly. Spring Boot, which commands approximately 90% of the backend market share, formalized a strategic partnership with JetBrains in 2025 – a clear signal of Kotlin&#8217;s enterprise viability and long-term trajectory.</p>



<p><strong>Framing the strategic decision</strong></p>



<p>While these adoption metrics demonstrate Kotlin&#8217;s market validation, management decisions require a comprehensive cost-benefit analysis. Technology adoption at scale involves significant investments in training, tooling, and potential migration efforts. The key is presenting both the tangible benefits and realistic implementation costs, allowing leadership to make an informed strategic decision rather than a purely technical one.</p>



<h3 class="wp-block-heading"><strong>The business gains unlocked by embracing Kotlin</strong></h3>



<p>These are the business gains when choosing Kotlin:</p>



<figure class="wp-block-table"><table><tbody><tr><td><strong>Advantage</strong></td><td><strong>Details</strong></td><td><strong>Business/Team impact</strong></td></tr><tr><td><strong>~30% less code. Better code clarity.</strong></td><td>~30% less to write, read, fix, and maintain.</td><td>➜ Increased productivity.<br>➜ Improved maintainability.</td></tr><tr><td><strong>25% fewer bugs thanks to safety features</strong></td><td>Kotlin reduces defects out of the box – no extra skills required – through features like null safety, safe APIs, and sensible defaults.</td><td>➜ Better quality – happier customers and developers.<br>➜ More time for new features.<br>➜ Faster time-to-market.</td></tr><tr><td><strong>Invest in just one new language: Kotlin</strong></td><td>Keep existing frameworks (e.g. SpringBoot, Micronaut, Quarkus).</td><td>➜ Framework knowledge is preserved.</td></tr><tr><td><strong>Better choice for AI</strong></td><td>Kotlin is more AI-friendly due to noise reduction, clarity, fluency, and more, which aligns with how LLMs process code.</td><td>➜ Better productivity with AI, which is increasingly influencing coding.</td></tr><tr><td><strong>Fully interoperable with Java</strong></td><td>Kotlin is fully interoperable with Java; no rewrite of libraries required.</td><td>➜ Investments based on Java are preserved.</td></tr><tr><td><strong>Well supported</strong></td><td>Backed by strong players: JetBrains, Google, and Meta.</td><td>➜ Future-proof choice.</td></tr><tr><td><strong>Gradual adoption</strong></td><td>Kotlin supports incremental migration paths.</td><td>➜ No “Big Bang” needed.</td></tr><tr><td><strong>Increase in developer happiness</strong></td><td>In surveys and studies, Kotlin developers consistently report better developer experience and higher job satisfaction.</td><td>➜ Attract new developers.<br>➜ Better retention 😃😃😃.</td></tr><tr><td><strong>Faster audit, safer compliance</strong></td><td>Kotlin’s type safety, immutability, and clear data structures make systems easier to trace, validate, and certify. These qualities support transparent and reliable software processes across regulated domains. For a real-world example, see <a href="https://yurigeronimus.medium.com/kotlin-in-payment-gateways-and-fintech-a-strategic-fit-for-2026-architectures-f049a01059f9" target="_blank" rel="noopener"><em>Kotlin in Payment Gateways and Fintech: A Strategic Fit for 2026 Architectures</em></a>.</td><td>➜ Easier internal and external audits.&nbsp;&nbsp;<br>➜ Lower compliance effort and risk.&nbsp;<br>➜ Greater organizational transparency.</td></tr></tbody></table></figure>



<p><strong>Some words on developer happiness</strong></p>



<p>Looking at my career, I was greatly rewarded for letting go of my attachment to the seemingly <em>safe</em> career choice of Java. Daily, I’m empowered with a language that is a joy to work with and helps me express what I want to achieve in the best possible way, concisely, safely, and productively.&nbsp;</p>



<p>It’s a fact that, personally, I&#8217;ve become a happier developer (human ;-)?) using Kotlin. Though this is subjective, developer satisfaction data tells the same unmistakable story:</p>



<p><strong>Backend developers who migrate from Java to Kotlin report dramatically higher happiness levels across every major industry survey.</strong><a href="https://stackoverflow.blog/2025/01/01/developers-want-more-more-more-the-2024-results-from-stack-overflow-s-annual-developer-survey/" target="_blank" rel="noopener"><strong>&nbsp;</strong></a></p>



<ul>
<li><a href="https://stackoverflow.blog/2025/01/01/developers-want-more-more-more-the-2024-results-from-stack-overflow-s-annual-developer-survey/" target="_blank" rel="noreferrer noopener">Stack Overflow&#8217;s Developer Survey</a> data shows Kotlin consistently ranking among the top five most loved languages at ~63% satisfaction, significantly outpacing Java&#8217;s ~54% rating.</li>



<li>The <a href="http://mercedes-benz.io" target="_blank" rel="noreferrer noopener">Mercedes-Benz.io</a> backend team documented &#8220;significantly more concise code than Java, reducing boilerplate and improving readability&#8221; while achieving measurable productivity gains in their microservices architecture.</li>



<li><a href="https://tylerrussell.dev/2025/01/10/my-thoughts-on-kotlin-perspectives-after-4-years/" target="_blank" rel="noreferrer noopener">Tyler Russell</a>, a backend developer with 15 years of Java experience, reports after four years with Kotlin: &#8220;I really like Kotlin&#8230; it feels like it enables productivity significantly more than it hinders it&#8221;, and never wants to return to Java.</li>
</ul>



<p><strong>Corporate Kotlin to Java backend migrations demonstrate that these happiness improvements scale effectively across enterprise environments.</strong><a href="https://medium.com/insiden26/5-reasons-why-n26-is-moving-to-kotlin-f920b184ab58" target="_blank" rel="noopener"><strong>&nbsp;</strong></a></p>



<ul>
<li><a href="https://medium.com/insiden26/5-reasons-why-n26-is-moving-to-kotlin-f920b184ab58" target="_blank" rel="noreferrer noopener">N26&#8217;s backend engineering team converted 60% of their microservices to Kotlin within two years, reporting enhanced developer satisfaction and reduced production issues</a>.</li>



<li><a href="https://medium.com/ing-blog/kotlin-adoption-inside-ing-5-years-later-df6421b14dc4" target="_blank" rel="noreferrer noopener">ING&#8217;s five-year backend adoption journey shows sustained organic growth, with 8% of their 20,000+ technical staff repositories now using Kotlin, demonstrating that developers voluntarily choose Kotlin when given the option</a>.</li>
</ul>



<h3 class="wp-block-heading"><strong>The cost / return on investment of embracing Kotlin:</strong></h3>



<p>These are the investments required for choosing Kotlin.&nbsp;</p>



<figure class="wp-block-table"><table><tbody><tr><td><strong>Investment&nbsp;</strong></td><td><strong>Description</strong></td><td><strong>Expected Return / Impact</strong></td></tr><tr><td><strong>Developer training</strong></td><td>Training sessions, workshops, and onboarding materials.</td><td>➜ Experienced developers new to Kotlin are productive in 2–3 weeks.<br>➜ ROI in ~1–4 months.</td></tr><tr><td><strong>Codebase migration (if applicable)</strong></td><td>A gradual rewrite or a mixed Kotlin/Java code setup strategy is required.</td><td>➜ No need for big bang rewrite<br>➜ Maintains delivery speed.</td></tr><tr><td><strong>Knowledge sharing</strong></td><td>Internal Kotlin champions, brown bag sessions, shared repos with examples.</td><td>➜ Faster team-wide adoption.<br>➜ Reuse of best practices.</td></tr><tr><td><strong>Hiring / upskilling</strong></td><td>Hire Kotlin-experienced devs or upskill existing Java devs.</td><td>➜ Higher retention.<br>➜ Broader talent pool.</td></tr></tbody></table></figure>



<p>One of the most common concerns when considering Kotlin adoption is the perceived shortage of experienced Kotlin developers. But rather than a roadblock, this can be a <strong>strategic advantage</strong>:</p>



<ul>
<li><strong>✅ Fast upskilling for Java developers<br></strong>Kotlin is designed to be intuitive for Java developers. With the right guidance, most can become productive in just <strong>2–3 weeks</strong>.</li>



<li><strong>✅ Kotlin attracts high-quality developers<br></strong>Those who actively pursue Kotlin are often <strong>curious, modern, and quality-driven</strong> – traits you want in your engineering team.</li>



<li><strong>✅ Kotlin enhances your company image<br></strong>Adopting Kotlin signals that you embrace <strong>modern, forward-looking technology</strong>, which helps attract top-tier talent.</li>



<li><strong>✅ Kotlin boosts developer happiness and retention</strong></li>
</ul>



<p>Kotlin developers consistently report <strong>higher job satisfaction</strong>, making it easier to retain engaged and motivated team members.</p>



<p>In short: Kotlin isn’t just a smart tech choice – it’s a <strong>strategic people decision</strong>.</p>



<h3 class="wp-block-heading">Up next in the series</h3>



<p>We shift focus from convincing developers to persuading decision-makers. The next post shows how to build a compelling business case for Kotlin adoption, grounded in real data and measurable outcomes. You’ll learn how to translate developer wins into management arguments, link productivity gains to cost savings, and demonstrate why Kotlin is more than a technical upgrade&nbsp;<strong>–</strong>&nbsp;it’s a strategic move for teams and companies alike.</p>


    <div class="about-author ">
        <div class="about-author__box">
            <div class="row">
                                                            <div class="about-author__box-img">
                            <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/10/a3f7-400o400o1-QYUavRYyARnAVJLCpM1m8M.webp" alt="" loading="lazy">
                        </div>
                                        <div class="about-author__box-text">
                                                    <h4>Urs Peter</h4>
                                                <p>Urs is a seasoned software engineer, solution architect, conference speaker, and trainer with over 20 years of experience in building resilient, scalable, and mission-critical systems, mostly involving Kotlin and Scala.</p>
<p>Besides his job as a consultant, he is also a passionate trainer and author of a great variety of courses ranging from language courses for Kotlin and Scala to architectural trainings such as Microservices and Event-Driven Architectures.</p>
<p>As a people person by nature, he loves to share knowledge and inspire and get inspired by peers on meetups and conferences. Urs is a JetBrains certified Kotlin trainer.</p>
                    </div>
                            </div>
        </div>
    </div>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Google Summer of Code 2025: What Our Contributors Built</title>
		<link>https://blog.jetbrains.com/kotlin/2025/11/google-summer-of-code-2025/</link>
		
		<dc:creator><![CDATA[Ksenia Shneyveys]]></dc:creator>
		<pubDate>Wed, 12 Nov 2025 20:49:21 +0000</pubDate>
		<featuredImage>https://blog.jetbrains.com/wp-content/uploads/2025/02/Blog-Featured-1280x720-2.png</featuredImage>		<category><![CDATA[education]]></category>
		<category><![CDATA[news]]></category>
		<category><![CDATA[gsoc]]></category>
		<category><![CDATA[open-source]]></category>
		<guid isPermaLink="false">https://blog.jetbrains.com/?post_type=kotlin&#038;p=658902</guid>

					<description><![CDATA[Congrats to all GSoC 2025 contributors and mentors! This year’s projects have made a real impact on the Kotlin ecosystem and the contributions are already being integrated, used, and appreciated. Thank you all for your hard work! Join our #gsoc channel on Slack Let’s take a closer look at this year’s projects: IntelliJ Platform Gradle [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>Congrats to all GSoC 2025 contributors and mentors! This year’s projects have made a real impact on the Kotlin ecosystem and the contributions are already being integrated, used, and appreciated. Thank you all for your hard work!</p>



<p align="center"><a class="ek-link jb-download-button" title="Join our #gsoc channel on Slack" href="https://slack-chats.kotlinlang.org/c/gsoc" target="_blank" rel="noopener">Join our #gsoc channel on Slack</a></p>



<p>Let’s take a closer look at this year’s projects:</p>



<h2 class="wp-block-heading">IntelliJ Platform Gradle Plugin – Gradle Reporting and Parallel Verifications</h2>


    <div class="blockquote">
                    <blockquote><p>“GSoC was the perfect opportunity to give back to the tools I use daily and move from user to contributor because I&#8217;d already been building IntelliJ plugins myself.”</p></blockquote>
            <div class="blockquote__author">
                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="blockquote__author-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/Profile-copy.jpeg" alt="Victoria Alajemba">
                                <div class="blockquote__author-info">
                                            <strong class="blockquote__author-title">Victoria Chuks Alajemba</strong>
                                                        </div>
            </div>
            </div>



<p><a href="https://dev.to/victoria_chuks_7e772e1688/gsoc-2025-kotlin-foundation-final-report-3p4c" target="_blank" rel="noreferrer noopener"><strong>Project page</strong></a></p>



<p><strong>Mentor</strong>: Jakub Chrzanowski (JetBrains)</p>



<p>For Victoria Alajemba, a Software Engineer from Nigeria studying in Paris, GSoC was a bridge between learning and impact. Working on the IntelliJ Platform Gradle Plugin, she integrated Gradle’s Problems API and Reporting API, creating richer, standardized reports and exploring parallel verification for faster builds. Guided by Jakub Chrzanowski from JetBrains, she strengthened key workflows used by thousands of plugin developers.</p>



<p><a href="https://kotlinfoundation.org/news/gsoc-2025-intellij-gradle-plugin/" data-type="link" data-id="https://kotlinfoundation.org/news/gsoc-2025-intellij-gradle-plugin/" target="_blank" rel="noreferrer noopener">Learn more about Victoria’s project →</a></p>



<h2 class="wp-block-heading">Improving Configuration Cache in Key Gradle Plugins</h2>


    <div class="blockquote">
                    <blockquote><p>“Working with my mentors was an amazing experience. They provided invaluable guidance, from high-level architectural advice to detailed feedback on pull requests.”</p></blockquote>
            <div class="blockquote__author">
                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="blockquote__author-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/image-10.jpeg" alt="Nouran Atef">
                                <div class="blockquote__author-info">
                                            <strong class="blockquote__author-title">Nouran Atef</strong>
                                                        </div>
            </div>
            </div>



<p><a href="https://community.gradle.org/events/gsoc/2025/configuration-cache-and-lock-contention/" target="_blank" rel="noreferrer noopener"><strong>Project page</strong></a></p>



<p><strong>Mentors</strong>: Oleg Nenashev (ex-Gradle), Rafael Chaves (Gradle), Rodrigo Oliveira (Gradle)</p>



<p>Hailing from Cairo, Nouran Atef spent her summer making Gradle builds faster and more reliable. Her project tackled Configuration Cache compatibility across major community plugins, refactoring them to remove bottlenecks and enable smarter caching. She contributed fixes, documentation, and patterns now adopted across plugins, boosting performance for developers everywhere.</p>



<p><a href="https://kotlinfoundation.org/news/gsoc-2025-gradle-cache/" target="_blank" rel="noreferrer noopener">Read Nouran’s full story →</a></p>



<h2 class="wp-block-heading">Enhanced Kotlin Code Quality Reporting with Gradle Problem API: Integration with Detekt and Ktlint</h2>


    <div class="blockquote">
                    <blockquote><p>“Participating in GSoC opened my eyes to the open-source community. Collaboration, communication, and more Kotlin all helped me grow into a better, well-rounded engineer. To anyone considering GSoC, especially beginners, I would say to apply! It is very beginner friendly and you can acquire valuable skills that you would not easily gain elsewhere.”</p></blockquote>
            <div class="blockquote__author">
                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="blockquote__author-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/IMG_3512.jpg" alt="Vanessa Johnson">
                                <div class="blockquote__author-info">
                                            <strong class="blockquote__author-title">Vanessa Johnson</strong>
                                                        </div>
            </div>
            </div>



<p><a href="https://community.gradle.org/events/gsoc/2025/kotlin-code-quality-with-problems-api/" target="_blank" rel="noreferrer noopener"><strong>Project page</strong></a></p>



<p><strong>Mentors</strong>: Donát Csikós and Reinhold Degenfellner (both from Gradle)</p>



<p>Based in New York City, Android Engineer Vanessa Johnson spent her summer improving how Kotlin developers experience code quality. Her project integrated the Gradle Problems API into popular tools like Detekt and Ktlint, unifying error reporting across consoles, IDEs, and HTML reports for cleaner, more actionable feedback.</p>



<p><a href="https://kotlinfoundation.org/news/gsoc-2025-kotlin-quality-reporting/" target="_blank" rel="noreferrer noopener">Read Vanessa’s full story →</a></p>



<h2 class="wp-block-heading">Support Android and iOS Targets in Kotlin Multiplatform for Gemini Using Vertex AI in Firebase</h2>


    <div class="blockquote">
                    <blockquote><p>“GSoC ultimately strengthened my passion for the developer experience and mobile infrastructure, inspiring me to keep building tools that make complex technologies more accessible.”</p></blockquote>
            <div class="blockquote__author">
                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="blockquote__author-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/image-15.jpeg" alt="Sean Chin Jun Kai">
                                <div class="blockquote__author-info">
                                            <strong class="blockquote__author-title">Sean Chin Jun Kai</strong>
                                                        </div>
            </div>
            </div>



<p><a href="https://github.com/SeanChinJunKai/firebase-ai-kmp" target="_blank" rel="noopener"><strong>Project page</strong></a></p>



<p><strong>Mentor</strong>: Matt Dyor (Google)</p>



<p>As one of the first Firebase libraries with native Kotlin Multiplatform (KMP) support, Sean’s project bridges Android and iOS with a shared Gemini-powered Firebase AI layer. His modular SDK and Swift-Kotlin bridge simplify AI feature integration across platforms, answering one of the top community requests for Firebase. Mentored by Matt Dyor from Google, Sean’s work lays the foundation for future official KMP-compatible Firebase libraries.</p>



<p><a href="https://kotlinfoundation.org/news/gsoc-2025-gemini-vertex-firebase/" target="_blank" rel="noreferrer noopener">Explore Sean’s full project →</a></p>



<h2 class="wp-block-heading">Gradle Convention Plugin for Developing Jenkins Plugins</h2>


    <div class="blockquote">
                    <blockquote><p>“The moment that acceptance email landed in my inbox, I couldn’t stop smiling. Working with my mentors was one of the most rewarding parts of this journey. <br />
”</p></blockquote>
            <div class="blockquote__author">
                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="blockquote__author-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/image-12.jpeg" alt="Aarav Mahajan">
                                <div class="blockquote__author-info">
                                            <strong class="blockquote__author-title">Aarav Mahajan</strong>
                                                        </div>
            </div>
            </div>



<p><a href="https://community.gradle.org/events/gsoc/2025/jenkins-plugins-toolchain/" target="_blank" rel="noreferrer noopener"><strong>Project page</strong></a></p>



<p><strong>Mentors</strong>: Oleg Nenashev (ex-Gradle), Rahul Somasunderam (Netflix), Steve Hill (Netflix)</p>



<p>For Aarav Mahajan, a computer engineering student from Punjab, India, it wasn’t just writing a Gradle plugin – it was about expanding what’s possible for Jenkins developers and modernizing plugin development for Gradle.</p>



<p>The Gradle Convention Plugin introduces a clean, Kotlin-first way to build, test, and publish Jenkins plugins, standardizing best practices, automating checks, and bringing long-requested Gradle parity to the community.</p>



<p><a href="https://kotlinfoundation.org/news/gsoc-2025-gradle-plugin-jenkins/" target="_blank" rel="noreferrer noopener">Read Aarav’s full story →</a></p>



<h2 class="wp-block-heading">Maven Central Publishing Plugin for Gradle (New APIs)</h2>


    <div class="blockquote">
                    <blockquote><p>“GSoC really broadened my perspective. It taught me what it takes to build, promote, and grow an open-source project, which is especially meaningful since becoming a maintainer is one of my long-term goals.”</p></blockquote>
            <div class="blockquote__author">
                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="blockquote__author-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/Yongjun.png" alt="Yongjun Hong">
                                <div class="blockquote__author-info">
                                            <strong class="blockquote__author-title">Yongjun Hong</strong>
                                                        </div>
            </div>
            </div>



<p><a href="https://community.gradle.org/events/gsoc/2025/maven-central-publishing-with-new-api/" target="_blank" rel="noreferrer noopener">Project page</a></p>



<p><strong>Mentor</strong>: Oleg Nenashev (ex-Gradle)</p>



<p>Yongjun Hong set out to make publishing to Maven Central easier. His new Gradle plugin brings modern Kotlin DSL support, automatic validation, and smart inheritance of shared metadata, turning a tedious, error-prone process into a smooth, consistent workflow. Mentored by Oleg Nenashev, Yongjun delivered a tool that not only simplifies multi-module publishing, but also improves build reliability and compliance – a small change that will save countless hours for open-source maintainers.</p>



<h2 class="wp-block-heading">Build a Modern, Compiler-Integrated Kotlin Language Server</h2>


    <div class="blockquote">
                    <blockquote><p>“It was incredibly rewarding to see my work tested, reviewed, and used by others in the community.”</p></blockquote>
            <div class="blockquote__author">
                                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" class="blockquote__author-img" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/image-9.jpeg" alt="Aarav Mahajan">
                                <div class="blockquote__author-info">
                                            <strong class="blockquote__author-title">Hemram</strong>
                                                        </div>
            </div>
            </div>



<p><a href="https://github.com/h4-mm-3r/kotlin-lsp" target="_blank" rel="noreferrer noopener"><strong>Project page</strong></a></p>



<p><strong>Mentors</strong>: Shauvik Roy Choudhary, Ryan U, Michael Noah, Claudia Babescu (all from Uber)</p>



<p>From picking up Kotlin from scratch to building a compiler-integrated Language Server with the new Analysis API, Hemram’s project expanded the boundaries of Kotlin tooling.&nbsp;</p>



<p>Working with mentors from Uber and the Kotlin Foundation, he delivered a modern, open foundation for editor integrations and future AI-assisted tools for the Kotlin Language Server Protocol.</p>



<p><a href="https://kotlinfoundation.org/news/gsoc-2025-kotlin-lps/" target="_blank" rel="noreferrer noopener">Read Hemram’s story →</a></p>



<hr class="wp-block-separator aligncenter has-alpha-channel-opacity is-style-dots"/>



<p>Thank you to our contributors and mentors from the Kotlin Foundation member companies and other great partners supporting open-source – Google, Gradle, Uber, Netflix, and JetBrains – and to everyone who reviewed issues, gave feedback, and merged PRs.</p>



<p>If you are considering taking part in GSoC, check out the blogs from this year’s contributors – they’re full of insights on writing strong proposals and what the program can teach you. </p>



<p>To stay up to date on the next GSoC, join <a href="https://slack-chats.kotlinlang.org/c/gsoc" data-type="link" data-id="https://slack-chats.kotlinlang.org/c/gsoc" target="_blank" rel="noreferrer noopener">our #gsoc channel on Slack</a>.</p>



<p>If you’d like to go deeper, check out the linked contributor posts and repos above.&nbsp;</p>



<p>Let’s keep building great things together!</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Building AI Agents in Kotlin – Part 1: A Minimal Coding Agent </title>
		<link>https://blog.jetbrains.com/ai/2025/11/building-ai-agents-in-kotlin-part-1-a-minimal-coding-agent/</link>
		
		<dc:creator><![CDATA[Fatimazahra El Akkary]]></dc:creator>
		<pubDate>Tue, 11 Nov 2025 08:35:38 +0000</pubDate>
		<featuredImage>https://blog.jetbrains.com/wp-content/uploads/2025/11/KG-social-BlogFeatured-1280x720-1-2.png</featuredImage>		<product ><![CDATA[kotlin]]></product>
		<category><![CDATA[tutorials]]></category>
		<category><![CDATA[ai]]></category>
		<category><![CDATA[ai-agents]]></category>
		<guid isPermaLink="false">https://blog.jetbrains.com/?post_type=ai&#038;p=657070</guid>

					<description><![CDATA[Building agents is weird. You&#8217;re not writing code that does things. You&#8217;re writing code that gives an LLM the ability to do things, and the LLM decides what to do. What is an agent? An agent is an LLM that calls your functions in a loop until it decides the task is complete. That shift [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>Building agents is weird. You&#8217;re not writing code that does things. You&#8217;re writing code that gives an LLM the ability to do things, and the LLM decides what to do.</p>


<aside style="background: #f8f9fa;border-left: 4px solid #007bff;padding: 1rem 1.5rem;margin: 1.5rem 0;border-radius: 4px">
<p style="font-weight: 600;margin-bottom: 0.5rem;color: #333;font-size: 1.05rem">What is an agent?</p>
<p style="margin: 0;color: #555">An agent is an LLM that calls your functions in a loop until it decides the task is complete.</p>
</aside>


<p>That shift takes some getting used to. You give the agent the ability to read files, and it decides which files to read and when. You might expect it to start with the main file. Instead, it reads three test files first to understand the patterns. You didn&#8217;t tell it to do that. It just did.</p>



<p>So what abilities do you give it? Too many and it picks poorly. Too few and it can&#8217;t do the job. Finding that balance means trying things, observing what fails, and adjusting.</p>



<p><strong>In this blog series</strong>, we&#8217;ll explore AI agents by building a real coding agent together, starting with three basic tools and transforming the agent into a complete one over the course of the series. You&#8217;ll learn about how agents actually work, how to observe and debug their behavior, and the architectural decisions that matter. By the end, you&#8217;ll understand not just this agent, but how to build your own. All in Kotlin.</p>



<p>We&#8217;ll start simple by building an agent that can navigate a codebase and make targeted changes. We&#8217;ll&nbsp;use <a href="https://www.jetbrains.com/koog/" target="_blank" rel="noopener">Koog</a>, an open-source framework from JetBrains that handles the execution loop: sending prompts, parsing tool calls, and executing them, repeating until done. The execution loop can get complex, but we&#8217;ll start with a basic one and focus on the more interesting question: what capabilities should your agent actually have?</p>



<h2 class="wp-block-heading"><strong>Building the agent piece by piece</strong></h2>



<p>Before we write anything, let&#8217;s think about what we actually want. An agent that can&#8230; do what exactly?</p>



<p>Fix bugs? Write features? Refactor old code?</p>



<p>We want it to do all of those things. But what does that actually mean? It means we need an agent that can navigate a codebase and make targeted changes.</p>



<p>It needs to be able to <strong>see</strong> what files are in a project, <strong>read</strong> those files, and <strong>edit</strong> them or create new ones – three capabilities that we&#8217;ll give it through three tools.</p>


<aside style="background: #f8f9fa;border-left: 4px solid #007bff;padding: 1rem 1.5rem;margin: 1.5rem 0;border-radius: 4px">
<p style="font-weight: 600;margin-bottom: 0.5rem;color: #333;font-size: 1.05rem">What are tools?</p>
<p style="margin: 0;color: #555">Tools are functions the LLM can call when needed. You decide which ones are present, and the LLM decides when to use them.</p>
</aside>


<p>These three tools are already built and bundled into <a href="https://www.jetbrains.com/koog/" target="_blank" rel="noopener">Koog</a>. We&#8217;ll look at how each one works, and then connect them all to GPT-5-Codex. That will give us a complete agent that can explore a codebase, read files, and make changes.</p>



<h3 class="wp-block-heading"><strong>Teaching it to see</strong></h3>



<p>First, we add this tool to give our agent a way to explore:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">tool(ListDirectoryTool(JVMFileSystemProvider.ReadOnly))</pre>



<p>Now it can look around to see what files exist. But here&#8217;s the thing: If you just dump a list of file paths at an agent, it doesn&#8217;t really help. The agent needs to understand the structure.</p>



<p>To make understanding the structure easier, the tool formats output intelligently. JVM projects have deep package structures. A typical path might be <code>src/main/kotlin/com/example/service/impl/UserServiceImpl.kt.</code> If the tool showed every intermediate directory, the output would be cluttered with single-child directories that add no information. </p>



<p>So when it finds a long chain of single directories, it collapses them:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">/project/src/main/kotlin/Main.kt (&lt;0.1 KiB, 20 lines)</pre>



<p>When there are multiple files at the same level, it shows a tree:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">/project/src/main/kotlin/
  Main.kt (&lt;0.1 KiB, 20 lines)
  Utils.kt (&lt;0.1 KiB, 10 lines)</pre>



<p>Notice the file sizes and line counts are right there. Why show them?</p>



<p>Without them, you&#8217;ll run into a problem we hit.&nbsp; When we first built this, we didn&#8217;t include file sizes. The agent would explore the directory and see filenames, but have no idea about their size. So when it needed to understand a file, it would just read the entire thing.</p>



<p>Then we hit a real case: the agent tried to read<a href="https://github.com/pydata/xarray/blob/d998eac1e7acf04dbf6f81ebe51247c02d3adb5c/xarray/tests/test_dataset.py" target="_blank" rel="noopener"> a Python test file that was over 7,700 lines long</a>. The LLM&#8217;s context window filled up with just that one file. When the agent tried to continue working, it had lost track of other files it had read, what it was supposed to be doing, and what changes it needed to make. The single massive file had pushed everything else out of context.</p>



<p>That&#8217;s why line counts and file sizes are in the directory listing. Now, when the agent explores the codebase, it sees that <code>test_dataset.py</code> is 7,700 lines before trying to read it. It can decide to read just specific sections instead of the whole thing, or skip it entirely if it&#8217;s not relevant to the task.</p>



<h3 class="wp-block-heading"><strong>Reading code</strong></h3>



<p>Next, the agent needs to read files:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">tool(ReadFileTool(JVMFileSystemProvider.ReadOnly))</pre>



<p>See <code>JVMFileSystemProvider.ReadOnly? </code>That’s because this tool doesn&#8217;t call <code>java.nio.file</code> APIs directly. It&#8217;s built against Koog&#8217;s <code>FileSystemProvider</code> interface.</p>



<p>Why? So you can write a tool once and use it anywhere. <code>ReadFileTool</code> just calls methods on the provider. It doesn&#8217;t care if that provider reads from your local disk, from files over SSH, or from cloud storage. If you pass it to a different provider, the tool works the same way. If you&#8217;re building your own file tools, you can implement <code>FileSystemProvider</code> for your storage backend and pass it to Koog&#8217;s file tools, and they’ll work.</p>



<p>We&#8217;re using <code>JVMFileSystemProvider.ReadOnly</code> here. Why is it <code>ReadOnly?</code> By separating read and write permissions at the provider level, you can compose agents with different permission levels. Need an agent that only explores and analyzes code? Give it tools that use <code>ReadOnly</code> providers, and you know for certain it can&#8217;t modify anything. For this agent, we&#8217;ll add modification capabilities next. <code>EditFileTool</code> will use <code>JVMFileSystemProvider.ReadWrite</code> instead. Clear separation means you control exactly what each agent can and can&#8217;t do.<br></p>



<p>The tool also supports line ranges:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">readFile("Main.kt", startLine = 45, endLine = 72)</pre>



<p>Remember those line counts in <code>ListDirectoryTool</code>? This is why. When the agent sees a file with thousands of lines in the directory listing, it knows to be more strategic about reading it. It might read the file in chunks, avoid rereading it multiple times, or extract specific sections. This helps prevent context exhaustion from large files like that 7,700-line Python test file example.</p>



<h3 class="wp-block-heading"><strong>Modifying code</strong></h3>



<p>Now we give the agent the power to actually change things:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">tool(EditFileTool(JVMFileSystemProvider.ReadWrite))</pre>



<p><code>EditFileTool</code> does find-and-replace. Give it a file path, the text to find, and what to replace it with. Simple enough.</p>



<p>But here&#8217;s what&#8217;s interesting: Those three parameters can do different things, depending on what you pass.</p>



<p>Want to replace text? Specify the original text and the replacement:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">edit_file(
    path = "Main.kt", 
    original = "Hello World!", 
    replacement = "Hello Koog!"
)</pre>



<p>Want to delete something? Just make the replacement empty:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">edit_file(
    path = "Main.kt", 
    original = "Hello World!", 
    replacement = ""
)</pre>



<p>Want to create a whole new file? Make the original empty:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">edit_file(
    path = "Main.kt", 
    original = "", 
    replacement = "fun main() { println(\"Hello World!\") }"
)</pre>



<p>Same tool. Three different operations.</p>



<h4 class="wp-block-heading"><strong>Learning from failures</strong></h4>



<p>The tool works, but we discovered something when testing with real agents. After several edits, the file was different. The agent tried to make another edit, but the text it was looking for didn’t exist anymore. Earlier edits had changed it.</p>



<p>The tool was returning &#8220;Edit failed&#8221;. We figured the agent would re-read the file and try again. Want to guess what happened instead?</p>



<p>The agent saw &#8220;Edit failed&#8221; and thought, “Something&#8217;s wrong with this file. Maybe I don&#8217;t have permission? I&#8217;ll just create a new file with my changes!” Suddenly, there were new files everywhere. Code that should have been edited ended up in new files instead.&nbsp;</p>



<p>The fix was simple. We just needed to tell the agent what actually went wrong. We changed the error message to <a href="https://github.com/JetBrains/koog/blob/c433b8e14c9450c5800245c36efe36021d2740b2/agents/agents-ext/src/commonMain/kotlin/ai/koog/agents/ext/tool/file/patch/TokenNormalizedPatchApplier.kt#L55" target="_blank" rel="noopener">&#8220;The original text to replace was not found in the file content. Consider re-reading the file to check if the original has changed since last read&#8221;</a>. And that worked. The agents learned: “Oh, text not found, I should re-read and try again.”</p>



<h2 class="wp-block-heading"><strong>Putting the pieces together</strong></h2>



<p>We have three tools. Now we need to connect them to GPT-5-Codex.</p>



<p>If you were building this from scratch without a framework, you&#8217;d write an execution loop: Send a prompt to GPT-5-Codex, parse the response, check if it wants to call a tool, execute that tool, send the results back, repeat. You&#8217;d need to handle API requests, error cases, token limits, and the tool calling protocol. That’s a lot of setup and effort.</p>



<p>Here, Koog&#8217;s <code>AIAgent</code> handles that loop. You give it an LLM, tools, and instructions:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">val executor = simpleOpenAIExecutor(System.getenv("OPENAI_API_KEY"))
val agent = AIAgent(
    promptExecutor = executor,
    llmModel = OpenAIModels.Chat.GPT5Codex,</pre>



<p>This connects the agent to GPT-5-Codex. promptExecutor is Koog&#8217;s way of handling LLM communication. You give it an API key and model, and it takes care of the rest.</p>



<p>Now tell it about your tools:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">    toolRegistry = ToolRegistry {
        tool(ListDirectoryTool(JVMFileSystemProvider.ReadOnly))
        tool(ReadFileTool(JVMFileSystemProvider.ReadOnly))
        tool(EditFileTool(JVMFileSystemProvider.ReadWrite))
    },</pre>



<p><code>ToolRegistry</code> is where you list your tools. Koog takes each tool, converts it into the JSON format GPT-5-Codex expects, and handles calling them when GPT-5-Codex requests it. </p>



<p>Give it instructions:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">    systemPrompt = """
        You are a highly skilled programmer tasked with updating the provided codebase according to the given task.
        Your goal is to deliver production-ready code changes that integrate seamlessly with the existing codebase 
        and solve given task.
    """.trimIndent(),</pre>



<p>This is the system prompt that tells the agent what its job is. Notice &#8220;updating the provided codebase&#8221;? That&#8217;s what makes the agent actually modify files instead of just explaining what should change.</p>



<p>Tell it how to run:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">    strategy = singleRunStrategy(),
    maxIterations = 100</pre>



<p>The strategy is the agent loop. <a href="https://api.koog.ai/agents/agents-core/ai.koog.agents.core.agent/single-run-strategy.html" target="_blank" rel="noopener">singleRunStrategy()</a> is Koog&#8217;s built-in basic version. The agent calls tools until it decides the task is complete. We&#8217;ll explore how to write complex custom strategies in future articles, but this one works for most tasks.</p>



<p>But what if it never stops? We once had an agent read a 7,000-line file, hit the token limit, lose context, and then read the same file again – over and over. Luckily <code>maxIterations = 200</code> stopped it before burning through our API budget. After 200 steps, the agent quits. Each tool call costs 2 steps (one for the call, one for the response), so that&#8217;s 100 calls max.</p>



<p>Sometimes the agent will run for a bit, leaving you sitting there wondering if it&#8217;s working or stuck. We want to add some visibility to the agent, so we can see what it’s doing. The <code>handleEvents</code> block is how you watch what&#8217;s going on in Koog:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">{
    handleEvents {
        onToolCallStarting { ctx -&gt; println("Tool '${ctx.tool.name}' called with args:" +
                " ${ctx.toolArgs.toString().take(100)}")
        }
    }
}</pre>



<p>Koog gives you different events to hook into, like <code>onToolCallStarting</code>, <code>onToolCallFinished</code>, <code>onAgentFinished</code>, and<a href="https://docs.koog.ai/agent-events/" target="_blank" rel="noopener"> others</a>. We&#8217;re using <code>onToolCallStarting</code> here, which runs right before each tool executes, so we can log what&#8217;s about to happen.&nbsp;</p>



<p>You&#8217;ll want to tune what you log, though. The first time we did this, we printed everything. <code>EditFileTool</code> scrolled hundreds of lines past us. Then we tried just the tool name. <code>EditFileTool</code> ran three times, and we had no idea what it was editing. We print 100 characters now. You can follow what&#8217;s happening without staring at too much text.</p>



<h2 class="wp-block-heading"><strong>Running our agent</strong></h2>



<p>The agent is built. Now we need a way to actually use it:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">suspend fun main(args: Array&lt;String&gt;) {
    if (args.size &lt; 2) {
        println("Error: Please provide the project absolute path and a task as arguments")
        println("Usage: &lt;absolute_path&gt; &lt;task&gt;")
        return
    }

    val (path, task) = args
    val input = "Project absolute path: $path\n\n## Task\n$task"
    try {
        val result = agent.run(input)
        println(result)
    } finally {
        executor.close()
    }
}</pre>



<p>The agent needs to know two things: where the project lives and what to do. With this block of code, we grab both from command line arguments. If they&#8217;re missing, we show an error. Otherwise, we combine them into one input string and call <code>agent.run()</code>.</p>



<p>The agent takes over from there. It explores the project, reads files, and makes changes, looping until done. When it finishes, we print the result.</p>



<p>Here&#8217;s what it looks like in action:</p>


                                                <figure class="wp-block-image">
                    <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/output.gif" alt="" class="wp-image-657876"/>
                </figure>
                        


<h2 class="wp-block-heading"><strong>Does it work?</strong></h2>



<p>Once we had the agent running, we wanted to see what these three tools could actually accomplish. So we tested it on SWE-bench Verified, a benchmark of 500 coding tasks from GitHub issues.&nbsp;</p>



<p>It completed around 50% of them – not bad for 50 lines of code.</p>



<p>But the agent never verifies anything. Can&#8217;t compile. Can&#8217;t run tests. It reads code and makes changes based on what it sees, but has no way to know if those changes actually work.</p>



<p>And we’ve used three tools without showing you how to build one. You know what they do, but you don&#8217;t know how they work or how to make your own.</p>



<p><strong>That&#8217;s what my colleague Bruno shows you in the next article of this series.</strong> He builds a shell execution tool from scratch so the agent can run commands, see the output, and learn from what breaks. And he walks through how Koog tools work, because 50 lines of code only matter if you can extend the agent with tools for your specific problems.</p>



<p><a href="https://github.com/JetBrains/koog/blob/develop/examples/code-agent/step-01-minimal-agent/src/main/kotlin/Main.kt" target="_blank" rel="noopener">The code&#8217;s on GitHub</a>. Try it and share your experience with us.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Growing Kotlin Adoption in Your Company</title>
		<link>https://blog.jetbrains.com/kotlin/2025/11/growing-kotlin-adoption-in-your-company-2/</link>
		
		<dc:creator><![CDATA[Alyona Chernyaeva]]></dc:creator>
		<pubDate>Wed, 05 Nov 2025 11:15:53 +0000</pubDate>
		<featuredImage>https://blog.jetbrains.com/wp-content/uploads/2025/11/Blog-Featured-1280x720-2-2.png</featuredImage>		<guid isPermaLink="false">https://blog.jetbrains.com/?post_type=kotlin&#038;p=655765</guid>

					<description><![CDATA[Guest post by Urs Peter, Senior Software Engineer and JetBrains-certified Kotlin Trainer. For readers who’d like a more structured way to build Kotlin skills, Urs also leads the&#160;Kotlin Upskill Program at Xebia Academy. This is the third post in The Ultimate Guide to Successfully Adopting Kotlin in a Java-Dominated Environment, a series that follows how [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p><em>Guest post by <a href="https://www.linkedin.com/in/urs-peter-70a2882/" data-type="link" data-id="https://bit.ly/urs-peter-linked-in" target="_blank" rel="noreferrer noopener">Urs Peter</a>, Senior Software Engineer and JetBrains-certified Kotlin Trainer. For readers who’d like a more structured way to build Kotlin skills, Urs also leads the&nbsp;</em><a href="https://academy.xebia.com/upskilling/kotlin-academy/" target="_blank" rel="noreferrer noopener"><em>Kotlin Upskill Program</em></a><em> at Xebia Academy.</em></p>



<p><em>This is the third post in </em><strong><em>The Ultimate Guide to Successfully Adopting Kotlin in a Java-Dominated Environment</em></strong><em>, a series that follows how Kotlin adoption grows among real teams, from a single developer’s curiosity to company-wide transformation.</em></p>



<p><strong>All parts in the series:</strong></p>



<ol>
<li><a href="https://blog.jetbrains.com/kotlin/2025/10/getting-started-with-kotlin-for-java-developers/" target="_blank" rel="noreferrer noopener">Getting Started With Kotlin for Java Developers</a></li>



<li><a href="https://blog.jetbrains.com/kotlin/2025/10/evaluating-kotlin-in-real-projects/" data-type="link" data-id="https://blog.jetbrains.com/kotlin/2025/10/evaluating-kotlin-in-real-projects/" target="_blank" rel="noreferrer noopener">Evaluating Kotlin in Real Projects</a></li>



<li><a href="https://blog.jetbrains.com/kotlin/2025/11/growing-kotlin-adoption-in-your-company/" target="_blank" rel="noreferrer noopener">Growing Kotlin Adoption in Your Company</a></li>



<li><a href="https://blog.jetbrains.com/kotlin/2025/11/helping-decision-makers-say-yes-to-kotlin/" data-type="link" data-id="https://blog.jetbrains.com/kotlin/2025/11/helping-decision-makers-say-yes-to-kotlin/" target="_blank" rel="noreferrer noopener">Helping Decision‑Makers Say Yes to Kotlin</a></li>



<li><a href="https://blog.jetbrains.com/kotlin/2025/11/scaling-kotlin-adoption-across-your-organization/" target="_blank" rel="noreferrer noopener">Scaling Kotlin Adoption Across Your Organization</a></li>
</ol>



<hr class="wp-block-separator has-alpha-channel-opacity"/>



<h2 class="wp-block-heading"><strong>Spread the Word: Win the Hearts and Minds of your Fellow Developers</strong></h2>



<p>By now, you have a core team convinced of Kotlin&#8217;s benefits. Now comes the critical phase: How do you expand adoption?&nbsp;</p>



<p>Key in this phase is to win the hearts and minds of skeptical Java developers. Hard and soft factors can make the difference here:</p>



<p>Hard factors: the code</p>



<ul>
<li>Let the code speak</li>
</ul>



<p>Soft factors: support and connect developers</p>



<ul>
<li>Facilitate easy onboarding</li>



<li>Offer self-study material</li>



<li>Establish an in-house Kotlin community</li>



<li>Be patient…</li>
</ul>



<h3 class="wp-block-heading"><strong>Let the code speak</strong></h3>



<p>Double down on the experience you gained by (re-)writing an application in Kotlin and show the benefits in a tangible, accessible way:</p>



<ul>
<li><strong>Show, don’t tell</strong>: present the gained conciseness of Kotlin by comparing Java with Kotlin snippets.&nbsp;</li>



<li><strong>Zoom out to focus on the overarching paradigms</strong>: Kotlin is not just <em>different</em> from Java: Kotlin is built on the foundation of safety, conciseness for maximal readability and maintainability, functions as a first-class citizen, and extensibility, which together solve fundamental shortcomings of Java, while still being fully interoperable with the Java ecosystem.</li>
</ul>



<p>Here are some tangible examples:</p>



<p><strong>1. Null-safety: No more billion-dollar mistakes&nbsp;</strong></p>



<p><strong>Java</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="java" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">//This is why we have the billion-dollar mistake (not only in Java…)
Booking booking = null; //🤨 This is allowed but causes:
booking.destination; //Runtime error 😱

Optional&lt;Booking> booking = null; //Optionals aren’t safe from null either: 🤨
booking.map(Destination::destination); //Runtime error 😱</pre>



<p>Java has added some null-safety features over time, like Optional and Annotations (<code>@NotNull</code> etc.), but it has failed to solve this fundamental problem. Additionally, project <a href="https://openjdk.org/projects/valhalla/" target="_blank" rel="noreferrer noopener">Valhalla</a> (Null-Restricted and Nullable types) will not introduce null-safety to Java, but rather provide more options to choose from.&nbsp;</p>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">//Important to realize that null is very restricted in Kotlin:
val booking:Booking? = null //…null can only be assigned to Nullable types ✅ 
val booking:Booking = null //null assigned to a Non-nullable types yields a Compilation error 😃 

booking.destination //unsafely accessing a nullable type directly causes a Compilation error 😃
booking?.destination //only safe access is possible  ✅</pre>



<p>The great thing about Kotlin’s null-safety is that it is not only safe, but also offers great usability. A classic example of “have your cake and eat it, too”:</p>



<p>Say we have this Domain:</p>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">data class Booking(val destination:Destination? = null)
data class Destination(val hotel:Hotel? = null)
data class Hotel(val name:String, val stars:Int? = null)</pre>



<p><strong>Java</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="java" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">public record Booking(Optional&lt;Destination> destination) {

   public Booking() { this(Optional.empty()); }

   public Booking(Destination destination) {
       this(Optional.ofNullable(destination));
   }
}

public record Destination(Optional&lt;Hotel> hotel) {

   public Destination() { this(Optional.empty()); }

   public Destination(Hotel hotel) {
       this(Optional.ofNullable(hotel));
   }
}

public record Hotel(String name, Optional&lt;Integer> stars) {

   public Hotel(String name) {

       this(name, Optional.empty());

   }

   public Hotel(String name, Integer stars) {
       this(name, Optional.ofNullable(stars));
   }
}</pre>



<p><strong>Constructing objects</strong></p>



<p><strong>Java</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="java" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">//Because Optional is a wrapper, the number of nested objects grows, which doesn’t help readability
final Optional&lt;Booking> booking = Optional.of(new Booking(
      Optional.of(new Destination(Optional.of(
            new Hotel("Sunset Paradise", 5))))));</pre>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">//Since nullability is part of the type system, no wrapper is needed: The required type or null can be used. 
val booking:Booking? = Booking(Destination(Hotel("Sunset Paradise", 5)))</pre>



<p><strong>Traversing nested objects</strong></p>



<p><strong>Java</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="java" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">//traversing a graph of Optionals requires extensive unwrapping
final var stars = "*".repeat(booking
                          .flatMap(Booking::getDestination)
                          .flatMap(Destination::getHotel)
                          .map(Hotel::getStars).orElse(0)); //-> "*****"</pre>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">//Easily traverse a graph of nullable types with: ‘?’, use  ?: for the ‘else’ case.
val stars = "*".repeat(booking?.destination?.hotel?.stars ?: 0) //-> "*****"</pre>



<p><strong>Unwrap nested object</strong></p>



<p><strong>Java</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="java" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">//extensive unwrapping is also needed for printing a leaf 
booking.getDestination()
       .flatMap(Destination::getHotel)
       .map(Hotel::getName)
       .map(String::toUpperCase)
         .ifPresent(System.out::println);</pre>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">//In Kotlin we have two elegant options:
//1. we can again traverse the graph with ‘?’
booking?.destination?.hotel.?name?.uppercase()?.also(::println)

//2. We can make use of Kotlin’s smart-cast feature
if(booking?.destination?.hotel != null) {
   //The compiler has checked that all the elements in the object graph are not null, so we can access the elements as if they were non-nullable types
   println(booking.destination.hotel.uppercase())
}</pre>



<p>The lack of null-safety support in Java is a key pain-point for developers, leading to defensive programming, different nullability constructs (or none at all), including increased verbosity. Moreover, NullPointerExceptions are responsible for roughly one-third of application crashes (<a href="https://blog.jetbrains.com/kotlin/2020/11/productive-server-side-development-with-kotlin-stories/" target="_blank" rel="noreferrer noopener">The JetBrains Blog</a>). Kotlin&#8217;s compile-time null checking prevents these runtime failures entirely. That’s why, still today, <strong>Null-safety is the primary driver for migration to Kotlin</strong>.</p>



<p><strong>2. Collections are your friend, not your enemy</strong></p>



<p>The creator of Spring, Rod Johnson, stated in a recent interview that it was not Nullable-types that made him try out Kotlin, but the overly complicated Java Streams API: <a href="https://youtu.be/Rx3XZoqbi78?t=1018" target="_blank" rel="noreferrer noopener">Creator of Spring: No desire to write Java</a>.&nbsp;</p>



<p>The following example depicts the various reasons why the Java Streams API is so horribly complicated and how Kotlin solves all of the issues:</p>



<p><strong>Java</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="java" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">public record Product(String name, int... ratings){}
List&lt;Product> products = List.of(
  new Product("gadget", 9, 8, 7), 
  new Product("goody", 10, 9)
);

Map&lt;String, Integer> maxRatingsPerProduct =

   //🤨 1. Stream introduces indirection
   products.stream()
     //🤨 1. Always to and from Stream conversion
      .collect(
        //🤨 2. Lacks extension methods, so wrappers are required
        Collectors.groupingBy(
           Product::name,
            //🤨 2. Again…
           Collectors.mapping( groupedProducts ->
                //🤨 3. (too) low-level types, arrays, and primitives cause extra complexity
                //🤨 4. No API on Array, always wrap in stream 
               Arrays.stream(groupedProducts.ratings())
                   .max()
                      //🤨 5. Extra verbosity due to Optional
                      .orElse(0.0),
               //🤨 6. No named arguments: what does this do?
                Collectors.reducing(0, Integer::max)
              )
            ));</pre>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">//😃 rich and uniform Collection API - even on Java collections - due to extension methods
val maxRatingsPerProduct = products.
      .groupBy { it.name }
      .mapValues { (_, groupedProducts) -> //😃 destructuring for semantic precision
            //😃 built-in nullability support, and the same API for 
            //arrays like other Collections
            groupedProducts.flatMap { it.ratings }
                  .maxOrNull() ?: 0 
            }
      }</pre>



<p>Due to Kotlin’s uniform Collection framework, converting between different collection types is very straightforward:<br><strong>Java</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="java" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">int[] numbers = {1, 3, 3, 5, 2};

Set&lt;Integer> unique = Arrays.stream(numbers).boxed().collect(Collectors.toSet());

Map&lt;Integer, Boolean> evenOrOdd = unique.stream()
       .collect(Collectors.toMap(
               n -> n,
               n -> n % 2 == 0));</pre>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">val numbers = arrayOf(1, 3, 3, 5, 2)

val unique: Set&lt;Int> = numbers.toSet() //😃 simply call to&lt;Collection> to do the conversion

val evenOrOdd: Map&lt;Int, Boolean> = unique.associateWith { it % 2 == 0 }</pre>



<p><strong>Net effect:</strong></p>



<ul>
<li><strong>Feature-rich, intuitive Collection API:</strong> pipelines read left-to-right like English, not inside nested collector calls.</li>



<li><strong>Less boilerplate and complexity:</strong> no Collectors.groupingBy, no Stream, no Optional, no Arrays.stream.</li>



<li><strong>One mental model:</strong> whether you start with a <code>List</code>, <code>Set</code>, <code>Array</code>, or primitive array, you reach for the <em>same</em> collection operators.</li>



<li><strong>Performance without pain:</strong> the compiler inserts boxing/unboxing only where unavoidable; you write normal code.</li>



<li>​​<strong>Null-safety integrated: </strong>Collection API fully supports nullability with various helpers often suffixed with <code>orNull(...)</code>.</li>



<li><strong>Seamless Java-interop with idiomatic wrappers:</strong> Due to extension methods, you get the “best of both worlds” – feature-rich Collections on top of Java collections.</li>
</ul>



<p>Put simply, Kotlin lifts the everyday collection tasks – filtering, mapping, grouping etc. – into first-class, <em>composable</em> functions, so you express <em>what</em> you want, not the ceremony of <em>how</em> to get there.</p>



<p><strong>3. No more checked Exceptions, yet safer code in Kotlin</strong></p>



<p>Java is one of the only languages that still supports checked Exceptions. Though initially implemented as a safety feature, they have not lived up to their promise. Their verbosity, pointless catch blocks that do nothing or rethrow as an Exception as a <code>RuntimeException</code>, and their misalignment with lambdas are a few reasons why they get in the way rather than making your code safer.</p>



<p>Kotlin follows the proven paradigm used by almost all other programming languages –C#, Python, Scala, Rust, and Go – of using exceptions only for unrecoverable situations.</p>



<p>The following examples highlight the obstacles that checked Exceptions introduce into your code, without adding any safety:<br><br><strong>Java</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="java" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">public String downloadAndGetLargestFile(List&lt;String> urls) {
   List&lt;String> contents = urls.stream().map(urlStr -> {
               Optional&lt;URL> optional;
               try {
                   optional = Optional.of(new URI(urlStr).toURL());
                   //🤨 Within lambdas checked exceptions are not supported and must always be caught...
               } catch (URISyntaxException | MalformedURLException e) {
                   optional = Optional.empty();
               }
               return optional;
           }).filter(Optional::isPresent)       //Quite a mouthful to get rid of the Optional...
           .map(Optional::get)
           .map(url -> {
               try (InputStream is = url.openStream()) {
                   return new String(is.readAllBytes(), StandardCharsets.UTF_8);
               } catch (IOException e) {
                   //🤨… or re-thrown, which is annoying, I don’t really care about IOE
                   throw new IllegalArgumentException(e);
               }
           }).toList();
   //🤨 An empty List results in a NoSuchElementException, so why is it not checked? The chance that the List is empty is as high as the other two cases above...
   return Collections.max(contents);
}</pre>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">//😃 safe return type
fun downloadAndGetLargestFile(urls: List&lt;String>): String? =
   urls.mapNotNull {    //😃 convenient utility methods to rid of null
       //😃 try catch is possible, yet runCatching is an elegant way to convert an exception to null
       runCatching { URI(it).toURL() }.getOrNull()
   }.maxOfOrNull{  //😃 safe way to retrieve the max value
       it.openStream().use{ it.reader().readText() }  //😃 convenient extension methods to make java.io streams fluent
   }</pre>



<p><strong>4. Functions as first-class citizens</strong></p>



<p>Kotlin treats functions as first-class citizens, which may raise questions if you’re coming from Java: What does that mean, and why does it matter?</p>



<p>The key difference lies in Java’s limited approach – its functional capabilities focus mostly on the call-site via lambdas, while the declaration-side remains tied to verbose and less intuitive functional interfaces. In Kotlin, you can define, pass, return, and compose functions without any boilerplate, making functional programming far more expressive and natural.</p>



<p><strong>Java</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="java" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">public void doWithImage(
      URL url, 
      //🤨 Function interfaces introduce an indirection: because we don’t see the signature of a Function we don’t know what a  BiConsumer does, unless we look it up
      BiConsumer&lt;String, BufferedImage> f) throws IOException {
        f.accept(url.getFile(), ImageIO.read(url));
}

//🤨 Same here
public void debug(Supplier&lt;String> f) {
   if(isDebugEnabled()) {
      logger.debug("Debug: " + f.get());
   }
}

//🤨 calling no-argument lambdas is verbose
debug(() -> "expensive concat".repeat(1000));</pre>



<p><strong>Kotlin</strong></p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">fun doWithImage(
   url: URL,
  //😃 Kotlin has a syntax for declaring functions: from the signature, we see what goes in and what goes out 
   f:(String, BufferedImage) -> Unit) = 
      f(url.file, ImageIO.read(url))

  //😃 same here: nothing goes in, a String goes out
fun debug(msg: () -> String) {
   if(isDebugEnabled) {
            logger.debug(msg())
   }
}

//😃 convenient syntax to pass a lambda: {&lt;lambda body>}
debug{"expensive concat".repeat(1000)}</pre>



<p>Kotlin provides a clear and concise syntax for declaring functions – just from the signature, you can immediately see what goes in and what comes out, without having to navigate to an external functional interface.&nbsp;</p>



<p>Java “leaks” its functional programming features through a large set of <code>java.util.function.*</code> interfaces with verbose and complex signatures, which often makes functional programming cumbersome to use. Kotlin, by contrast, treats functions as first-class citizens: these interfaces remain hidden from the developer, yet remain fully interoperable with Java’s approach:</p>



<figure class="wp-block-image size-full is-resized"><img decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/unnamed-16.png" alt="" class="wp-image-655829" style="aspect-ratio:1.1355932203389831;width:510px;height:auto; width:100% !important; height:auto !important; max-width:100% !important;"/></figure>



<p>As a result, using functions in Kotlin is significantly more straightforward and intuitive, which lowers the threshold considerably for leveraging this powerful programming concept in your own code.&nbsp;</p>



<p><strong>5. Headache-free concurrency with coroutines</strong></p>



<p>If you need high throughput, parallel processing within a single request, or streaming, the only option you have in Java is a reactive library, like Reactor and RxJava, available in frameworks like Spring WebFlux, Vert.X, Quarkus etc.</p>



<p>The problem with these libraries is that they are notoriously complicated, forcing you into functional programming. As such, they have a steep learning curve, yet it is very easy to make errors that can have dire consequences when the application is under load. That’s most probably why reactive programming never became mainstream.&nbsp;</p>


                    <div class="alert ">
            <p><strong>Note:</strong> VirtualThreads are not a replacement for reactive libraries, even though there is some overlap. VirtualThreads offer non-blocking I/O, but do not provide features such as parallel processing or reactive streams. Structured concurrency and Scoped Values will also enable parallel processing once the major frameworks have support for it. For reactive streams, you will always have to rely on a reactive library.<br />
</p>
        </div>
    






<p>So let’s assume you are a Java developer using Spring Boot and you want to make a parallel call within a single request. This is what you end up with:&nbsp;</p>



<pre class="EnlighterJSRAW" data-enlighter-language="java" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">@PostMapping("/users")
@ResponseBody
@Transactional
public Mono&lt;User> storeUser(@RequestBody User user) {
   Mono&lt;URL> avatarMono = avatarService.randomAvatar();
   Mono&lt;Boolean> validEmailMono = emailService.verifyEmail(user.getEmail());
   //🤨 what does ‘zip’ do?
   return Mono.zip(avatarMono, validEmailMono).flatMap(tuple -> 
       if(!tuple.getT2()) //what is getT2()? It’s the validEmail Boolean…
        //🤨 why can I not just throw an exception?
         Mono.error(new InvalidEmailException("Invalid Email"));
       else personDao.save(UserBuilder.from(user)
                                          .withAvatarUrl(tuple.getT1()));
     );  
  }</pre>



<p>Even though, from a runtime perspective, this code performs perfectly well, the accidental complexity introduced is enormous:&nbsp;</p>



<ul>
<li>The code is dominated by <code>Mono/Flux</code>-es, throughout the whole call chain, which enforces you to wrap all domain objects.</li>



<li>There are many complex operators everywhere, like <code>zip</code>, <code>flatMap</code>, etc.</li>



<li>You cannot use standard programming constructs like throwing exceptions&nbsp;</li>



<li>The business intent of your code suffers significantly: the code focuses on <code>Monos</code> and <code>flatMap</code>, thereby obscuring what is truly happening from a business perspective.</li>
</ul>



<p>The good news is that there is a powerful remedy in the form of Kotlin Coroutines. Coroutines can be framed as a reactive implementation on the language level. As such, they combine the best of both worlds:&nbsp;</p>



<ul>
<li>You write sequential code like you did before.</li>



<li>The code is executed asynchronously / in parallel at runtime.</li>
</ul>



<p>The above Java code converted to coroutines looks as follows:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">@GetMapping("/users")
@ResponseBody
@Transactional
suspend fun storeUser(@RequestBody user:User):User = coroutineScope {
   val avatarUrl = async { avatarService.randomAvatar() }
   val validEmail = async { emailService.verifyEmail() }
   if(!validEmail.await()) throw InvalidEmailException("Invalid email")
   personRepo.save(user.copy(avatar = avatarUrl.await()))
}</pre>



<p>Kotlin’s suspend keyword enables structured, non-blocking execution in a clear and concise manner. Together with <code>async{}</code> and <code>await()</code>, it facilitates parallel processing without the need for deeply nested callbacks or complex constructs such as <code>Mono</code> or <code>CompletableFuture</code>.</p>



<p>That’s why complexity will decrease, and developer joy and maintainability will increase, with the exact same performance characteristics.&nbsp;</p>



<figure class="wp-block-image size-full"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/unnamed-17.png" alt="" class="wp-image-655845"/></figure>



<p><strong>Note</strong>: Not all major Java-based web frameworks support Coroutines as well. Spring does an excellent job, as does Micronaut. Quarkus currently offers limited Coroutine support.</p>



<p><strong>6. But hey, Java is evolving too!</strong></p>



<p>Java keeps moving forward with features like records, pattern matching, and upcoming projects such as Amber, Valhalla, and Loom. This steady evolution strengthens the JVM and benefits the entire ecosystem.</p>



<p>But here’s the catch: most of these “new” Java features are things Kotlin developers have enjoyed for years. Null safety, value classes, top-level functions, default arguments, concise collections, and first-class functions are all baked into Kotlin’s design – delivered in a more unified and developer-friendly way. That’s why Kotlin code often feels cleaner, safer, and far more productive.</p>



<p>And there is more: Kotlin also profits from Java’s innovation. JVM-level advances like Virtual Threads and Loom in general, or Valhalla’s performance boosts apply seamlessly to Kotlin too.</p>



<p>In short: Java evolves, but Kotlin was designed from day one to give developers the modern tools they need – making it a safe, modern, and forward-looking choice for building the future.</p>



<figure class="wp-block-image size-full"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/11/kotlin-castle-1.png" alt="" class="wp-image-655858"/></figure>



<p><strong>7. Kotlin&#8217;s evolutionary advantage</strong></p>



<p>Older programming languages inevitably carry legacy baggage compared to modern alternatives. Updating a language while supporting massive existing codebases presents unique challenges for language designers. Kotlin enjoys two crucial advantages:</p>



<p><strong>Standing on the shoulders of giants</strong>: Rather than reinventing the wheel, Kotlin&#8217;s initial design team gathered proven paradigms from major programming languages and unified them into a cohesive whole. This approach maximized evolutionary learning from the broader programming community.</p>



<p><strong>Learning from Java&#8217;s shortcomings</strong>: Kotlin&#8217;s designers could observe Java&#8217;s pitfalls and develop solid solutions from the ground up.</p>



<p>For deeper insights into Kotlin&#8217;s evolution, Andrey Breslav from Kotlin&#8217;s original design team gave an excellent talk at KotlinDevDay Amsterdam: <a href="https://www.youtube.com/watch?v=7z_K-hTTeqI&amp;ab_channel=Xebia" target="_blank" rel="noreferrer noopener"><em>Shoulders of Giants: Languages Kotlin Learned From</em> – Andrey Breslav</a></p>



<p><strong>Soft factors: Support and connect developers in their Kotlin adoption journey</strong></p>



<h3 class="wp-block-heading"><strong>1. Facilitate easy onboarding</strong></h3>



<p>The goal of the expressive Java vs. Kotlin code snippets is to whet the appetite for Kotlin. Code alone, however, is not enough to win the hearts and minds of Java developers. To accelerate adoption and ensure a smooth start, provide:</p>



<ul>
<li><strong>Sample project</strong>: A ready-to-run project with both Java and Kotlin code side-by-side, giving teams a practical reference during migration.<br></li>



<li><strong>Built-in quality checks</strong>: Preconfigured with tools like SonarQube, ktlint, and detekt to promote clean, consistent, and maintainable code from day one. This will enable you to apply consistent lint rules, testing frameworks, libraries, and CI pipelines to reduce friction across teams.<br></li>



<li><strong>Coaching and support</strong>: Experienced Kotlin engineers available to coach new teams, answer questions, and provide hands-on advice during the early stages of development.
<ul>
<li>This one is particularly important: with only a few hours of guidance from an experienced developer from another team who has gone through these stages before, much damage and technical debt can be prevented.&nbsp;</li>
</ul>
</li>
</ul>



<p>A bit of support and coaching is the most powerful way to nurture lasting enthusiasm for Kotlin.</p>



<h3 class="wp-block-heading"><strong>2. Offer (self-)study material</strong></h3>



<p>Especially when coming from Java, learning the Kotlin basics can be done on your own. Providing some resources upfront eases the path to getting productive with Kotlin and lowers the threshold.&nbsp;</p>



<ul>
<li><a href="https://kotlinlang.org/docs/getting-started.html" target="_blank" rel="noreferrer noopener"><strong>JetBrains “Tour of Kotlin” (Get Started guide)</strong><br></a>A short, browser-based tutorial on the official Kotlin site.</li>



<li><a href="https://kotlinlang.org/docs/koans.html" target="_blank" rel="noreferrer noopener"><strong>Kotlin Koans<br></strong></a>A set of bite-sized coding challenges maintained by JetBrains.</li>



<li><a href="https://www.udacity.com/course/kotlin-bootcamp-for-programmers--ud9011" target="_blank" rel="noreferrer noopener"><strong>Udacity “Kotlin Bootcamp for Programmers”</strong><br></a>A full video-based course created in partnership with Google.</li>
</ul>


                    <div class="alert ">
            <p><strong>Note:</strong> Although self-study is valuable for grasping the basics, it also has some drawbacks. One of these drawbacks is an optionality: being caught up in the day&#8217;s frenzy, it&#8217;s tempting to skip self-study. Moreover, you will lack feedback from a practitioner who knows the subtle nuances of correctly applied idiomatic Kotlin. There is a big chance that after a self-study course, you will write Java-ish Kotlin, which gives you some benefits but does not unlock the full potential of the language. </p>
        </div>
    






<p>Unless you don’t have good coaching, a classical course can be very beneficial. There is a need to attend; you can exchange with peers of the same level and have your questions answered by an experienced professional, which will get you up to speed much faster with less non-idiomatic Kotlin during the initial transition.&nbsp;</p>



<h3 class="wp-block-heading"><strong>3. Establish an in-house Kotlin community</strong></h3>



<p>One of the fastest ways to level up Kotlin expertise across your company is to create and foremost nurture an in-house community.</p>



<ul>
<li><strong>Launch an internal Kotlin community</strong>
<ul>
<li>First look for a core-team of at least 3–6 developers who are willing to invest in a Kotlin community. Also ensure they get time and credits from their managers for their task.</li>



<li>Once the team is formed, organize a company-wide kick-off with well-known speakers from the Kotlin community. This will ignite the Kotlin flame and give it momentum.</li>



<li>Schedule regular meet-ups (monthly or bi-weekly) so momentum never drops.</li>



<li>Create a shared chat channel/wiki where questions, code snippets, and event notes live.<br></li>
</ul>
</li>



<li><strong>Invite (external) speakers</strong>
<ul>
<li>Bring in engineers who’ve shipped Kotlin in production to share candid war stories.</li>



<li>Alternate between deep-dive technical talks (coroutines, KMP, functional programming) and higher-level case studies (migration strategies, tooling tips).<br></li>
</ul>
</li>



<li><strong>Present lessons learned from other in-house projects</strong>
<ul>
<li>Ask project leads to present their Kotlin learnings – what worked, what didn’t, and measurable outcomes.</li>



<li>These insights can be captured in a “Kotlin playbook” that new teams can pick up.<br></li>
</ul>
</li>



<li><strong>Give your own developers the stage</strong>
<ul>
<li>Run lightning-talk sessions where anyone can demo a neat trick, library, or failure they overcame in 5–10 minutes.</li>



<li>Celebrate contributors publicly – shout-outs in all-hands or internal newsletters boost engagement and knowledge-sharing.<br></li>
</ul>
</li>



<li><strong>Keep feedback loops tight</strong>
<ul>
<li>After each session, collect quick polls on clarity and usefulness, then tweak future agendas accordingly.</li>



<li>Rotate organizational duties so the community doesn’t hinge on a single champion and stays resilient long-term.<br></li>
</ul>
</li>
</ul>



<p><strong>Note</strong>: Many of the suggestions above sound straightforward. However, the effort needed to keep a community vibrant and alive should not be underestimated.&nbsp;</p>



<h3 class="wp-block-heading"><strong>4. Be patient…</strong></h3>



<p>Cultural change takes time. The danger of being enthusiastic about a tool that makes a difference for you is pushing things, which can be counterproductive. An effective approach is to nurture the adoption process with all the activities discussed above, with <em>show, don’t tell</em> as prior guidance.</p>



<h3 class="wp-block-heading">Up next in the series</h3>



<p>We shift focus from convincing developers to persuading decision-makers. The next post shows how to build a compelling business case for Kotlin adoption, grounded in real data and measurable outcomes. You’ll learn how to translate developer wins into management arguments, link productivity gains to cost savings, and demonstrate why Kotlin is more than a technical upgrade&nbsp;<strong>–</strong>&nbsp;it’s a strategic move for teams and companies alike.</p>


    <div class="about-author ">
        <div class="about-author__box">
            <div class="row">
                                                            <div class="about-author__box-img">
                            <img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/10/a3f7-400o400o1-QYUavRYyARnAVJLCpM1m8M.webp" alt="" loading="lazy">
                        </div>
                                        <div class="about-author__box-text">
                                                    <h4>Urs Peter</h4>
                                                <p>Urs is a seasoned software engineer, solution architect, conference speaker, and trainer with over 20 years of experience in building resilient, scalable, and mission-critical systems, mostly involving Kotlin and Scala.</p>
<p>Besides his job as a consultant, he is also a passionate trainer and author of a great variety of courses ranging from language courses for Kotlin and Scala to architectural trainings such as Microservices and Event-Driven Architectures.</p>
<p>As a people person by nature, he loves to share knowledge and inspire and get inspired by peers on meetups and conferences. Urs is a JetBrains certified Kotlin trainer.</p>
                    </div>
                            </div>
        </div>
    </div>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Finding Order in the Mayhem: A Novel Concurrency Testing Tool that Improved the Kotlin Compiler</title>
		<link>https://blog.jetbrains.com/research/2025/10/litmuskt-concurrency-testing/</link>
		
		<dc:creator><![CDATA[Katie Fraser]]></dc:creator>
		<pubDate>Wed, 29 Oct 2025 12:12:14 +0000</pubDate>
		<featuredImage>https://blog.jetbrains.com/wp-content/uploads/2025/10/KT-social-BlogFeatured-1280x720-1-3.png</featuredImage>		<product ><![CDATA[kotlin]]></product>
		<category><![CDATA[kotlin]]></category>
		<category><![CDATA[research]]></category>
		<category><![CDATA[concurrency]]></category>
		<category><![CDATA[jetbrains-research]]></category>
		<category><![CDATA[testing]]></category>
		<guid isPermaLink="false">https://blog.jetbrains.com/?post_type=research&#038;p=652763</guid>

					<description><![CDATA[If you’ve ever tried to track down a bug in concurrent programs, you know how chaotic and frustrating it can be: everything seems to work fine, then suddenly crashes, and you can’t quite pin down why – all while the bugs slip through.&#160; To bring order to this chaos, at JetBrains Research we built LitmusKt [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>If you’ve ever tried to track down a bug in concurrent programs, you know how chaotic and frustrating it can be: everything seems to work fine, then suddenly crashes, and you can’t quite pin down why – all while the bugs slip through.&nbsp;</p>



<p>To bring order to this chaos, at <a style="color:#6B57FF;" href="https://lp.jetbrains.com/research/software-engineering/" target="_blank" rel="noopener">JetBrains Research</a> we built <a style="color:#6B57FF;" href="https://github.com/Jetbrains-Research/litmuskt" target="_blank" rel="noopener">LitmusKt</a> — a novel testing tool for Kotlin’s multiplatform concurrency. Designed specifically for Kotlin’s unique mix of JVM, Native, and JavaScript backends, LitmusKt helps developers uncover and eliminate subtle, platform-specific concurrency errors that traditional testing can’t catch.</p>



<p>In our <a style="color:#6B57FF;" href="https://blog.jetbrains.com/research/2025/07/fuzzing-the-kotlin-compiler/">previous post</a>, we discussed a new approach to fuzzing the Kotlin compiler. Now we’re exploring how LitmusKt takes that work further – systematically revealing concurrency bugs hidden deep in the Kotlin runtime and compiler. In this post, we will:</p>



<ul>
<li>Talk about why concurrent programming is complex and why automated testing is particularly tricky.</li>



<li>Explain how LitmusKt was needed for the Kotlin compiler and describe its cool technical features.</li>



<li>Lay out the history of LitmusKt, from its infancy as a research prototype, some of the bugs it found, and how it is now integrated into Kotlin/Native development.</li>
</ul>



<h2 class="wp-block-heading">Concurrent programming</h2>



<p>When multiple tasks or computations are executed simultaneously rather than sequentially, the approach is called <em>concurrent programming</em>. Although it may sound like a simple concept, it can sometimes act erratically when implemented improperly.&nbsp;</p>



<p>If it is so tricky, why is concurrent programming even implemented? Well, many programming problems are naturally concurrent: there are numerous tasks and external events running at the same time. Consider also how modern hardware itself is inherently concurrent, as most CPUs have multiple cores. Without concurrent code, we would not be able to use the cores to their full potential.</p>



<p>In Per Brinch Hansen’s <a style="color:#6B57FF;" href="https://link.springer.com/chapter/10.1007/978-1-4757-3472-0_1" target="_blank" rel="noopener">The Invention of Concurrent Programming</a> (which covers the history of concurrent programming up to 2001), he tells a story where he and Peter Kraft needed to design a real-time system for a large chemical plant. For this, a computer would perform a fixed number of tasks simultaneously. The tasks’ speed could be manually adjusted by the plant operators, which means that there was no set speed.&nbsp;</p>



<p>So they were working with simultaneous tasks and needed some sort of process synchronization. Sequential, task-independent programming wasn’t going to cut it. If you want to know what happens next, you can find it in Part I of <a style="color:#6B57FF;" href="https://link.springer.com/chapter/10.1007/978-1-4757-3472-0_1" target="_blank" rel="noopener">their book</a> (spoiler: they implemented <a style="color:#6B57FF;" href="https://pure.tue.nl/ws/files/4279816/344354178746665.pdf" target="_blank" rel="noopener">Edsger Dijkstra’s semaphores</a>).</p>



<p>Concurrent programming provides a number of advantages, including:</p>



<ul>
<li><strong>Improved performance and throughput</strong>. More tasks are completed in a given timeframe. This is especially beneficial on multi-core processors, where different tasks can run on different cores.</li>



<li><strong>Efficient resource use</strong>, because system resources (like the CPU) can be used for other tasks while one task is waiting for input/output or another event. This reduces idle time and maximizes hardware efficiency.</li>



<li><strong>Better responsiveness and user experience</strong>, because applications like web browsers, graphical user interfaces, and real-time systems remain responsive to input while other tasks run in the background. This supports smooth and uninterrupted user interactions.</li>
</ul>



<h3 class="wp-block-heading">Challenges in concurrent programming</h3>



<p>When concurrent programming was first introduced in the 1960s, the operating systems running it were rather unstable. Challenges included the following:</p>



<ul>
<li>A small programming error could cause a lot of problems but be really difficult to test for and therefore fix.</li>



<li><a style="color:#6B57FF;" href="https://webdocs.cs.ualberta.ca/~tony/OldPapers/dead.pdf" target="_blank" rel="noopener">Deadlocks</a>, or when all parts of a concurrent process are blocked, usually due to a lack of resources.</li>
</ul>



<p>Concurrent programming inherently involves simultaneously executed tasks. For this reason, challenges like the above arise because concurrent programming is highly dependent on unpredictable factors such as scheduling order or real-world timing. Let’s look at an example.</p>



<p>Consider a program that initializes two shared variables, <code>x</code> and <code>y</code>, with <code>0</code>, and starts two threads running in parallel. Each thread writes <code>1</code> to its associated variable. Then, each reads the other variable and stores that value as its result (<code>r1</code> and <code>r2</code>, respectively, which are also initialized with <code>0</code>).</p>



<p class="has-text-align-center"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/10/LitmusKt_introweak2.png" alt="" /></p>



<p>At first glance, the outcomes for <code>r1</code> and <code>r2</code> seem limited and predictable. Either:</p>



<ul>
<li>One thread finishes first, so it writes <code>1</code> to <code>x</code>, reads <code>0</code> from <code>y</code>, and the other reads the updated value <code>1</code>, giving us straightforward outcomes of <code>(0, 1)</code> or <code>(1, 0)</code>, depending on which thread finished first.</li>



<li>Or both threads execute at the same time, so they both write <code>1</code>, and both read <code>1</code>, yielding another expected result: <code>(1, 1)</code>.</li>
</ul>



<p>But then, after running the program many times, a seemingly impossible outcome starts to appear: Each thread reads <code>0</code>, even though both have written <code>1</code>.</p>



<p class="has-text-align-center"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/10/LitmusKt_introweak.png" alt="" /></p>



<p>This sort of bizarre outcome is called <strong><mark style="background-color:#fcf84a" class="has-inline-color">weak behavior</mark></strong>. It can happen for one of two reasons:</p>



<ul>
<li>Compiler optimizations, where compilers rearrange instructions or eliminate redundant memory operations to increase performance. This can result in subtle bugs, or even break the code, as dependencies may be lost in the shuffle.</li>



<li>CPU buffering and reordering, where the hardware itself may buffer, delay, or reorder reads and writes to maximize efficiency. Modern CPUs have <em>weak memory models</em> that allow operations to happen in surprising sequences, invisible in regular single-threaded programs.</li>
</ul>



<p>Weak behaviors caused by the above are a central focus in analyzing and testing concurrent programs with specialized tools. If the programmer only looks at the code or thinks in terms of simple statement interleaving, these outcomes seem impossible.&nbsp;</p>



<p>In reality, compiler and CPU optimizations change the story, making concurrent programming far more elusive and unpredictable than it appears at first glance. This creates headaches for programmers and those designing programming languages. Because reasoning about these subtle interactions is so challenging, <strong>thorough testing is essential to ensure reliability</strong>.</p>



<h3 class="wp-block-heading">Testing concurrent programs</h3>



<p>Concurrent programming is difficult to test because nondeterministic thread interactions can produce subtle, non-reproducible failures. These are often called Heisenbugs, and they only appear under specific timings or schedules, making them inherently hard to find and troubleshoot. The same input can pass a test and then fail the very same test depending on subtle, uncontrollable sources of nondeterminism, and even the act of observing or debugging can mask or alter the bug’s behavior, contributing to flaky tests and prolonged debugging cycles.</p>



<p>Traditional testing approaches struggle here because listing all possible thread schedules is infeasible in practice, and even systematic methods that control scheduling to capture nondeterminism are time-consuming and resource-intensive. This challenge is compounded by state space explosion, where the number of possible interleavings grows combinatorially with threads and synchronization points, necessitating reductions such as partial-order reduction and guided exploration to avoid redundant paths.</p>



<p>For testing these notoriously tricky programs, developers use a variety of strategies. Some common ones are listed in the table below.</p>



<figure class="wp-block-image size-full is-resized"><img decoding="async" loading="lazy" src="https://blog.jetbrains.com/wp-content/uploads/2025/10/LitmusKt_table-1.png" alt="" class="wp-image-652894" style="width:750px; width:100% !important; height:auto !important; max-width:100% !important;"/></figure>



<p>While code review and static analysis are both useful for early detection of concurrency bugs, they come with disadvantages as well. Namely, code review is susceptible to the reviewers’ errors and knowledge gaps; static analysis can generate false positives, thereby creating more work, and can miss runtime-only errors.</p>



<p>Random/<a style="color:#6B57FF;" href="https://blog.jetbrains.com/research/2025/07/fuzzing-the-kotlin-compiler/">fuzz</a>/<a style="color:#6B57FF;" href="https://testsigma.com/blog/software-stress-testing/" target="_blank" rel="noopener">stress</a> testing types are great for detecting rare or subtle bugs. They test programs under extreme conditions, for example with random inputs and under heavy load. These tests (especially stress testing) can also be useful to ensure smooth operation of a program in critical situations. These methods are usually resource-intensive, and they can sometimes produce false positives or miss more complex issues.</p>



<p>Many strategies work well with business logic and modest concurrency patterns, but fall short with the subtle hardware or compiler optimizations that lead to “impossible” results, like the (0,0) outcome above. For example, stress testing or fuzzing may uncover these bugs eventually, but a specific type of tests called <strong><strong><mark style="background-color:#fcf84a" class="has-inline-color">litmus tests</mark></strong></strong> is designed to systematically target these subtle behaviors and confirm theoretical predictions. This strategy is highly effective for environments with well-defined memory models, like the Java Virtual Machine (JVM), or specific CPUs.</p>



<p>For the rest of this post, we will concentrate on litmus testing and then tell you about a specific litmus testing tool developed by JetBrains researchers.</p>



<h3 class="wp-block-heading">Litmus testing</h3>



<p>Litmus testing is like stress testing for concurrency: you write small concurrent programs (i.e., litmus tests) and run them thousands of times to catch rare, weird behaviors that only happen under specific timing conditions. Established tools like <a style="color:#6B57FF;" href="https://github.com/openjdk/jcstress" target="_blank" rel="noopener">JCStress</a> for Java and <a style="color:#6B57FF;" href="https://github.com/herd/herdtools7" target="_blank" rel="noopener">herdtools</a> for assembly language have successfully found real bugs in production systems.</p>



<p><em>JCStress</em>, for instance, is used by OpenJDK developers to test the JVM, catching subtle race conditions and memory model violations that could cause catastrophic failures in production. <em>herdtools</em> goes even deeper, testing assembly-level programs against processor memory models to ensure hardware behaves as expected. While these tools are useful for the respective languages, they run into limitations with multi-platform languages like <a style="color:#6B57FF;" href="https://kotlinlang.org/" target="_blank" rel="noopener">Kotlin</a>.</p>



<p>Unlike other languages, a key feature of Kotlin is that it compiles to JVM, Native, JavaScript, and WebAssembly, and each platform has its own distinct concurrency semantics and memory models. This diversity means some bugs cannot be caught with tools designed for just one backend – and so far existing tools hadn&#8217;t been able to handle this complexity. In other words, <strong>Kotlin needed its own litmus testing tool</strong>.</p>



<p>We took on the challenge of helping to discover bugs in the Kotlin compiler, and the result is a new tool that makes testing these tricky programs far easier.&nbsp;</p>



<h2 class="wp-block-heading">Testing concurrency programs with LitmusKt</h2>



<p>To overcome the lack of a proper Kotlin testing tool for concurrency programming, we  at  <a style="color:#6B57FF;" href="https://lp.jetbrains.com/research/software-engineering/" target="_blank" rel="noopener">JetBrains Research</a>) decided to build our own solution, <a style="color:#6B57FF;" href="https://github.com/Jetbrains-Research/litmuskt" target="_blank" rel="noopener">LitmusKt</a> (see <a style="color:#6B57FF;" href="https://arxiv.org/pdf/2501.07472" target="_blank" rel="noopener">their recent paper</a>). This section will tell you about its design and tech highlights, as well as its practical applications.</p>



<h3 class="wp-block-heading">LitmusKt’s design and cool technical features</h3>



<p>LitmusKt allows developers to write litmus tests once and run them across both Kotlin/JVM and Kotlin/Native platforms. The tool uses a custom domain-specific language that makes writing tests straightforward. A few examples of what LitmusKt does:</p>



<ul>
<li>Declare shared states, such as shared variables, between threads.</li>



<li>Write thread behavior so that it’s clear what each thread should do.</li>



<li>Label expected outcomes as <em>acceptable</em>, <em>interesting</em> (i.e., noteworthy but allowed), or <em>forbidden</em>.</li>
</ul>



<p>By using a custom DSL, developers can express thread interactions, shared variables, and outcome conditions flexibly, all within Kotlin. This<strong> lowers the barrier for writing complex concurrency tests</strong>.</p>



<p>Let’s run through an example. Below you can find the code for the Store Buffering test, which is a standard litmus test (it’s also the program we saw in the example before). The test involves (i) defining a shared state, (ii) running code for several threads, and (iii) specifying&nbsp; test outcomes; we will go through each one step by step.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">object StoreBuffering {
 val Plain = litmusTest({
    object : LitmusIIOutcome() {
	var x = 0
	var y = 0
    }
}) {
   thread { x = 1; r1 = y }
   thread { y = 1; r2 = x }
   spec {
	accept(r1 = 0, r2 = 1)
	accept(r1 = 1, r2 = 0)
	accept(r1 = 1, r2 = 1)
	interesting(r1 = 0, r2 = 0)
   }
   reset { x = 0; y = 0 }
}</pre>



<p>First, the test itself needs to be declared: we declare the state which will eventually be shared between the threads. In the example below, this comprises two <code>int</code> variables.&nbsp;</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">object StoreBuffering {
 val Plain = litmusTest({
    object : LitmusIIOutcome() {
	var x = 0
	var y = 0
    }</pre>



<p>Next comes the code for each thread, shown below.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">}) {
   thread { x = 1; r1 = y }
   thread { y = 1; r2 = x }</pre>



<p>Finally, we must declare the outcomes and their labels. The possible outcomes are:</p>



<ul>
<li><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#5e5d5d" class="has-inline-color">Acceptable</mark></strong>: sequentially consistent outcomes</li>



<li><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#fc801d" class="has-inline-color">Interesting</mark></strong>: weak but tolerable outcomes according to the semantics of the programming language</li>
</ul>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group=""> spec {
	accept(r1 = 0, r2 = 1)
	accept(r1 = 1, r2 = 0)
	accept(r1 = 1, r2 = 1)
	interesting(r1 = 0, r2 = 0)
   }</pre>



<p>If you recall the example above, the result where <code>r1 = 0</code> and <code>r2 = 0</code> was unexpected, because it is <strong><strong><mark style="background-color:#fcf84a" class="has-inline-color">weak behavior</mark></strong></strong>. In the code for the test, this result will be labelled as <strong><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#fc801d" class="has-inline-color">interesting</mark></strong></strong>, meaning it is acceptable but noteworthy. The other listed results are expected and therefore will be labelled as <strong><mark style="background-color:rgba(0, 0, 0, 0);color:#5e5d5d" class="has-inline-color">acceptable</mark></strong>.&nbsp;</p>



<p>Let’s look at what happens when we run the test with LitmusKt. How often do we see weak behavior in one million tests?</p>



<p class="has-text-align-center"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async"  src="https://blog.jetbrains.com/wp-content/uploads/2025/10/LitmusKt_interesting.png" ></p>



<p>The above screenshot shows that <strong><strong><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#fc801d" class="has-inline-color">interesting</mark></strong></strong></strong> outcomes do occur, but that they are relatively rare, at less than five percent. To increase the frequency of finding these weak but tolerable outcomes, LitmusKt enables the user to apply different parameters to increase the number of complex interactions (see the paper for further details).</p>



<p>Now that we know how to write a test in LitmusKt, let’s look at the more technical details. Our team built a custom Kotlin/Native test runner from scratch because no solutions existed up until then. The test runner is built on techniques from other litmus testing tools, such as careful thread synchronization and CPU affinity control. We created a test runner so that the threads modify different states simultaneously many times over, significantly increasing the likelihood that a concurrent interaction occurs and weak behavior can be detected.</p>



<p>For Kotlin/JVM, we integrated the tool with the existing JCStress framework, as it is known to be successful in uncovering concurrency bugs in various JVM implementations. Despite some integration challenges, the end interface is seamless for the user.</p>



<p>To summarize, LitmusKt incorporates proven methods to maximize the frequency of rare behaviors and provides powerful reporting tools for manual and automated analysis. Users can also interact via a rich command-line interface, adjusting test parameters, durations, and system settings.</p>



<p>Considering all these features, has LitmusKt caught any Kotlin bugs? As we will see in the next section, it has.&nbsp;</p>



<h3 class="wp-block-heading">LitmusKt and real code</h3>



<p>We applied LitmusKt and several litmus tests to analyze the behavior of Kotlin programs, therefore testing the results of the Kotlin compiler and looking for previously unknown issues. The possible outcomes here are:</p>



<ul>
<li><strong><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#5e5d5d" class="has-inline-color">Acceptable</mark></strong></strong>: sequentially consistent outcomes</li>



<li><strong><strong><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#fc801d" class="has-inline-color">Interesting</mark></strong></strong></strong>: weak but tolerable outcomes according to the semantics of the programming language</li>



<li><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#f01b02" class="has-inline-color">Forbidden</mark></strong>: weak intolerable outcomes, indicating bugs</li>
</ul>



<p>In contrast to the Store Buffering Test above, this analysis includes two weak outcomes: one tolerable and one intolerable, where the latter outcome represents a bug. The testing results are shown in the following image, where ACC, INT, and FORB stand for <strong><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#5e5d5d" class="has-inline-color">acceptable</mark></strong></strong>, <strong><strong><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#fc801d" class="has-inline-color">interesting</mark></strong></strong></strong>, and <strong><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#f01b02" class="has-inline-color">forbidden</mark></strong></strong>.&nbsp;</p>



<p class="has-text-align-center"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/10/LitmusKt_analysis.png" ></p>



<p>We can see that there are a number of tests uncovering <strong><strong><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#fc801d" class="has-inline-color">interesting</mark></strong></strong></strong> results, and one test in particular with <strong><strong><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#f01b02" class="has-inline-color">forbidden</mark></strong></strong> </strong>results. The test abbreviated as UPUB in the table is <em>unsafe publication</em>. The forbidden results represent a situation where objects could be accessed before proper initialization, potentially causing rare and critical failures in production environments. The fact that memory-unsafe behavior could slip through in a memory-safe language like Kotlin demonstrates why <strong>systematic concurrency testing is essential</strong>.&nbsp;</p>



<p>Let’s look more closely at <em>unsafe publication</em>, shown in the code below,<em> </em>and what unexpected outcomes arose.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">class IntHolder(val x: Int = 0)
 val UnsafePublication = litmusTest({
    object : LitmusIIOutcome() {
	var h : IntHolder? = null
    }
}) {
   thread { h = IntHolder() }
   thread { r1 = h?.x ?: -1 }
   spec { accept(0); accept(-1) }
   reset { h = null }
}</pre>



<p>In the code above, we can see a simple class <code>IntHolder</code> with a single integer. The shared state is a reference to this class. Then, we have two threads: one which is going to create a new class, and one which will try to read its variable.</p>



<p>The outcome of running the <em>unsafe publication</em> test was expected to be one of two scenarios:&nbsp;</p>



<ol>
<li>The class <code>IntHolder</code> is initialized —&gt; <code>0</code></li>



<li>The class <code>IntHolder</code> is not initialized —&gt; <code>-1</code></li>
</ol>



<p>The actual outcome of running the <em>unsafe publication</em> test with Kotlin 1.9 is shown in the following image. Any result which is not declared as interesting or acceptable is considered <strong><strong><strong><mark style="background-color:rgba(0, 0, 0, 0);color:#f01b02" class="has-inline-color">forbidden</mark></strong></strong></strong>.</p>



<p class="has-text-align-center"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/10/LitmusKt_forbidden-1.png" ></p>



<p>Unexpectedly, garbage values could be read from uninitialized memory. A memory-safe language like Kotlin definitely should not let this happen. In other words, <strong>our team found a new compiler bug thanks to LitmusKt</strong>. Since identifying the bug, our team has already <a style="color:#6B57FF;" href="https://github.com/JetBrains/kotlin/commit/d2e0361b4e6de7e804c6c079e7195354cd77ced9" target="_blank" rel="noopener">fixed</a> and merged it. As of Kotlin 1.9.20 and later, this bug no longer occurs.&nbsp;</p>



<p>We found further issues while running <em>unsafe publication</em> with LitmusKt (see <a style="color:#6B57FF;" href="https://arxiv.org/pdf/2501.07472" target="_blank" rel="noopener">the paper</a> for more details). As these are valuable insights for the Kotlin compiler, and after discussion with the Kotlin/Native development team, <a style="color:#6B57FF;" href="https://github.com/JetBrains/kotlin/commit/c409279a3833105caf9a4c18c479358c14293ad7" target="_blank" rel="noopener">LitmusKt is now embedded in the Kotlin CI/CD pipeline</a>.</p>



<p>In addition to the issues arising from running different tests, we discovered more noteworthy outcomes. The below image contains the partial code of a standard litmus test and the resulting outcomes.</p>



<p class="has-text-align-center"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/10/LitmusKt_noweak_horiz.png" ></p>



<p>As can be seen in the above image, the test produces only three outcomes. So far, nothing crazy. The interesting bit happens when the code is slightly altered with semantically equivalent changes. That is, these changes theoretically should not result in any additional thread interactions. However, as the below image shows, another outcome actually does show up.</p>



<p class="has-text-align-center"><img style="width:100% !important; height:auto !important; max-width:100% !important;" decoding="async" src="https://blog.jetbrains.com/wp-content/uploads/2025/10/LitmusKt_semanticchange_horiz.png" ></p>



<p>This extra outcome, marked in pink in the above image, is actually a <strong><mark style="background-color:#fcf84a" class="has-inline-color">weak outcome</mark></strong>, as it cannot be achieved by interleaving execution of threads. We suspect that such behavior is caused by compiler optimizations. In the future, it might be worthwhile to combine compiler fuzzing (i.e., with random code mutations) with litmus testing to discover more edge cases.</p>



<h2 class="wp-block-heading">Bringing order to Kotlin concurrency</h2>



<p>LitmusKt proves that even in the mayhem of concurrent programming, order can be found. By catching bugs that once slipped through the cracks of the Kotlin compiler, it has made multiplatform Kotlin development more reliable than ever.</p>



<p>With LitmusKt now part of Kotlin’s CI pipeline, every new compiler version benefits from systematic concurrency testing – ensuring that subtle memory model violations are caught before they reach developers.</p>



<p>We didn’t just build a tool; we established a new way to think about concurrency testing for multiplatform languages.</p>



<p>In short, LitmusKt:</p>



<ul>
<li>Brings automated, multiplatform litmus testing to Kotlin for the first time.</li>



<li>Uncovered and helped fix multiple concurrency bugs in Kotlin/Native.</li>



<li>Opened new possibilities for hybrid testing approaches that combine compiler fuzzing with concurrency analysis.</li>
</ul>



<p>LitmusKt is open-source and ready to help you explore, understand, and test the complex behaviors of concurrent programs across Kotlin’s many platforms.</p>


    <div class="buttons">
        <div class="buttons__row">
                                                <a href="https://github.com/Jetbrains-Research/litmuskt" class="btn " target="_blank" rel="noopener">Try LitmusKt on GitHub</a>
                                    </div>
    </div>







<h2 class="wp-block-heading"><strong>Further reading</strong></h2>



<p>Curious to explore the research or try out litmus testing on your own code? Check out these resources!</p>



<ul>
<li><a style="color:#6B57FF;" href="https://arxiv.org/pdf/2501.07472" target="_blank" rel="noopener">Our paper</a> on LitmusKt by Denis Lochmelis, Evgenii Moiseenko, Yaroslav Golubev, and Anton Podkopaev in the <em>33rd ACM International Conference on the Foundations of Software Engineering </em>proceedings</li>
</ul>



<ul>
<li><a style="color:#6B57FF;" href="https://shipilev.net/#jmm" target="_blank" rel="noopener">Talks</a> by Aleksey Shipilëv on concurrency in the Java Memory Model</li>



<li>Our <a style="color:#6B57FF;" href="https://link.springer.com/article/10.1134/S0361768821060050" target="_blank" rel="noopener">paper</a> (<a style="color:#6B57FF;" href="https://media.githubusercontent.com/media/anlun/publicFiles/master/papers/Moiseenko-al-Programming21-full.pdf" target="_blank" rel="noopener">PDF</a>), A Survey of Programming Language Memory Models by Evgenii Moiseenko, Anton Podkopaev, and Dmitrii Koznov in <em>Programming and Computer Software</em>&nbsp;</li>



<li>A <a style="color:#6B57FF;" href="https://www.youtube.com/watch?v=q0qW4uALSDA" target="_blank" rel="noopener">video</a> by Anton Podkopaev, one of our LitmusKt researchers, on problems, solutions, and directions for programming language memory models.</li>



<li>Weak memory consistency <a style="color:#6B57FF;" href="https://people.mpi-sws.org/~viktor/wmc/" target="_blank" rel="noopener">course</a> by Ori Lahav and Viktor Vafeiadis</li>



<li><a style="color:#6B57FF;" href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html" target="_blank" rel="noopener">Chapter</a> on Java Memory Model specification</li>



<li>LLVM Atomic Instructions and Concurrency <a style="color:#6B57FF;" href="https://llvm.org/docs/Atomics.html" target="_blank" rel="noopener">Guide</a></li>
</ul>
]]></content:encoded>
					
		
		
			</item>
	</channel>
</rss>
